import{c as a}from"./index-VxDcpnsG.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],h=a("trash-2",c);class i{storageKey="eppingFoodCourtOrders";cache=null;isSaving=!1;pendingSave=!1;load(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to get orders from localStorage:",e),[]}}saveDebounced(){if(this.isSaving){this.pendingSave=!0;return}this.isSaving=!0;try{this.cache&&localStorage.setItem(this.storageKey,JSON.stringify(this.cache))}finally{this.isSaving=!1,this.pendingSave&&(this.pendingSave=!1,setTimeout(()=>this.saveDebounced(),0))}}getOrders(){return this.cache||(this.cache=this.load()),this.cache}storeOrder(e){try{const r=this.getOrders();r.push(e),this.cache=r,this.saveDebounced()}catch(r){console.error("Failed to store order:",r)}}updateOrderStatus(e,r){try{const t=this.getOrders(),s=t.findIndex(o=>o.id===e);s!==-1&&(t[s].status=r,t[s].updatedAt=new Date().toISOString(),this.cache=t,this.saveDebounced())}catch(t){console.error("Failed to update order status:",t)}}updateOrder(e){try{const r=this.getOrders(),t=r.findIndex(s=>s.id===e.id);t!==-1&&(r[t]=e,this.cache=r,this.saveDebounced())}catch(r){console.error("Failed to update order:",r)}}getOrderById(e){return this.getOrders().find(t=>t.id===e)||null}getStatistics(){const e=this.getOrders(),r={},t={};return e.forEach(s=>{r[s.status]=(r[s.status]||0)+1,t[s.orderType]=(t[s.orderType]||0)+1}),{total:e.length,byStatus:r,byType:t}}clearAllOrders(){try{localStorage.removeItem(this.storageKey),this.cache=[]}catch(e){console.error("Failed to clear orders:",e)}}reset(e=[]){try{this.cache=e,this.saveDebounced()}catch(r){console.error("Failed to reset orders:",r)}}}const l=new i;export{h as T,l as o};
