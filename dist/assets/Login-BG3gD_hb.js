import{r as a,j as e}from"./ui-DvNP05M7.js";import{c as E,j as k,u as A,m as I,B as f,C as P,h as B,i as U,n as F,a as T}from"./index-VxDcpnsG.js";import{L as g,U as q,I as j,a as D,E as R}from"./Label-B-idLpSQ.js";import{A as _}from"./arrow-left-DDu8PoyW.js";import"./vendor-gH-7aFTg.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],y=E("lock",z),J=()=>{const[n,w]=a.useState(""),[o,b]=a.useState(""),[c,N]=a.useState(!1),[t,m]=a.useState(!1),[u,l]=a.useState(""),[h,x]=a.useState(""),{login:v,isAuthenticated:p}=k(),r=A(),i=I();a.useEffect(()=>{if(p){const s=i.state?.from?.pathname||"/admin";r(s,{replace:!0})}},[p,r,i]);const S=async s=>{s.preventDefault(),m(!0),l(""),x("");try{const d=await v(n,o);d.success?(x("Login successful! Redirecting..."),setTimeout(()=>{const L=i.state?.from?.pathname||"/admin";r(L,{replace:!0})},1e3)):l(d.message)}catch{l("An unexpected error occurred. Please try again.")}finally{m(!1)}},C=()=>{r("/")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs(f,{variant:"ghost",onClick:C,className:"mb-6 text-gray-600 hover:text-gray-800",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Back to Site"]}),e.jsxs(P,{className:"shadow-xl",children:[e.jsxs(B,{className:"text-center space-y-2",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(y,{className:"w-6 h-6 text-white"})}),e.jsx(U,{className:"text-2xl font-bold",children:"Admin Login"}),e.jsx(F,{children:"Sign in to access the Epping Food Court admin dashboard"})]}),e.jsx(T,{children:e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"username",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(j,{id:"username",type:"text",placeholder:"Enter your username",value:n,onChange:s=>w(s.target.value),className:"pl-10",required:!0,disabled:t})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(j,{id:"password",type:c?"text":"password",placeholder:"Enter your password",value:o,onChange:s=>b(s.target.value),className:"pl-10 pr-10",required:!0,disabled:t}),e.jsx("button",{type:"button",onClick:()=>N(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:t,children:c?e.jsx(D,{className:"w-4 h-4"}):e.jsx(R,{className:"w-4 h-4"})})]})]}),u&&e.jsx("div",{className:"border border-red-200 bg-red-50 text-red-800 px-4 py-3 rounded-md",children:u}),h&&e.jsx("div",{className:"border border-green-200 bg-green-50 text-green-800 px-4 py-3 rounded-md",children:h}),e.jsx(f,{type:"submit",className:"w-full",disabled:t||!n||!o,children:t?"Signing in...":"Sign In"})]})})]})]})})};export{J as default};
