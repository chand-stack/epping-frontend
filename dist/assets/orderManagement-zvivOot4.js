import{c as a}from"./index-ppAren82.js";import{a as s}from"./api-DsUKC986.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],y=a("loader-circle",o);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],p=a("trash-2",n);class d{listeners=[];async getOrders(r){try{return(await s.get("/orders",{params:r})).data.data}catch(e){return console.error("Failed to get orders:",e),[]}}async storeOrder(r){try{const e=await s.post("/orders",r);return this.notify(),e.data.data}catch(e){throw console.error("Failed to store order:",e),e}}async updateOrderStatus(r,e){try{const t=await s.patch(`/orders/${r}/status`,{status:e});return this.notify(),t.data.data}catch(t){throw console.error("Failed to update order status:",t),t}}async updateOrder(r,e){try{const t=await s.put(`/orders/${r}`,e);return this.notify(),t.data.data}catch(t){throw console.error("Failed to update order:",t),t}}async getOrderById(r){try{return(await s.get(`/orders/${r}`)).data.data}catch(e){return console.error("Failed to get order by ID:",e),null}}async deleteOrder(r){try{return await s.delete(`/orders/${r}`),this.notify(),!0}catch(e){throw console.error("Failed to delete order:",e),e}}async getStatistics(){try{return(await s.get("/orders/stats")).data.data}catch(r){return console.error("Failed to get statistics:",r),{total:0,todayOrders:0,todayRevenue:0,byStatus:{},byType:{}}}}async getRecentOrders(r=10){try{return(await s.get("/orders/recent",{params:{limit:r}})).data.data}catch(e){return console.error("Failed to get recent orders:",e),[]}}async getPendingOrders(){try{return(await s.get("/orders/pending")).data.data}catch(r){return console.error("Failed to get pending orders:",r),[]}}subscribe(r){return this.listeners.push(r),()=>{this.listeners=this.listeners.filter(e=>e!==r)}}notify(){this.listeners.forEach(r=>{try{r()}catch(e){console.error("Listener error:",e)}})}getOrdersSync(){return console.warn("getOrdersSync is deprecated. Use async getOrders() instead."),[]}async clearAllOrders(){console.warn("clearAllOrders is not supported with backend API")}async reset(r=[]){console.warn("reset is not supported with backend API")}}const h=new d;export{y as L,p as T,h as o};
