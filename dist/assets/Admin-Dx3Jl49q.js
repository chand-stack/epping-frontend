import{r as n,j as e,n as bt,x as Ns,b as dt,y as bs,c as wt,z as nt,a as ws,u as ue,i as ve,P as ie,A as ks,e as se,h as Ss,g as kt,f as Cs,E as Is,F as Ts,G as Os,H as Ps,I as As,D as Es,C as _s,p as Ms}from"./ui-RojGIA-k.js";import{c as $,i as Fs,j as Ds,e as de,B as b,X as Me,f as Fe,U as we,k as Rs,b as ze,C,a as I,l as Ls,V as $s,P as Qe,M as St,m as Ct,S as mt,d as xt,t as he,u as Vs}from"./index-ppAren82.js";import{U as Ye,L as F,I as L,E as ht,a as ut}from"./Label-CB2uu4dw.js";import{U as Xe}from"./utensils-CbNbRh0i.js";import{o as ge,T as Ze,L as zs}from"./orderManagement-zvivOot4.js";import{m as re,O as Bs,M as Us,I as Hs,C as qs,a as Ws,A as pt,S as Gs,b as Ks}from"./skeletons-DUEsoNJz.js";import{a as oe,P as ke,M as Je}from"./api-DsUKC986.js";import"./vendor-gH-7aFTg.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Ys=$("arrow-down-right",Qs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Zs=$("arrow-up-right",Xs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ea=$("bell",Js);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_e=$("chart-column",ta);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],aa=$("check",sa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],It=$("chevron-down",ra);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],la=$("chevron-up",na);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tt=$("circle-check-big",ia);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],lt=$("dollar-sign",ca);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ot=$("download",oa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Pt=$("funnel",da);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],xa=$("grid-3x3",ma);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ua=$("layout-dashboard",ha);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ga=$("list",pa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gt=$("log-out",ya);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Le=$("package",fa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],yt=$("printer",ja);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Na=$("refresh-cw",va);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wa=$("save",ba);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Be=$("search",ka);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ca=$("settings",Sa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ta=$("share-2",Ia);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Pa=$("shopping-bag",Oa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],At=$("square-pen",Aa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Ae=$("trending-down",Ea);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ye=$("trending-up",_a);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Re=$("triangle-alert",Ma);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Da=$("upload",Fa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],La=$("zap",Ra),$a=({children:r,currentPage:a,onPageChange:s})=>{const[c,i]=n.useState(!1),[f,x]=n.useState(!1),{user:m,logout:d}=Fs(),v=Ds(),w=n.useRef(null),y=()=>{d(),v("/login",{replace:!0})};n.useEffect(()=>{const j=l=>{w.current&&!w.current.contains(l.target)&&x(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const M=[{id:"dashboard",label:"Dashboard",icon:ua},{id:"orders",label:"Orders",icon:Fe},{id:"order-taking",label:"Order Taking",icon:Fe},{id:"menu",label:"Menu",icon:Xe},{id:"inventory",label:"Inventory",icon:Le},{id:"customers",label:"Customers",icon:we},{id:"analytics",label:"Analytics",icon:_e},{id:"settings",label:"Settings",icon:Ca}];return e.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[c&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>i(!1)}),e.jsxs("aside",{className:de("fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-xl border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out lg:translate-x-0 flex flex-col",c?"translate-x-0":"-translate-x-full"),children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white truncate",children:"Epping Food Court"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{variant:"ghost",size:"icon",className:"lg:hidden min-h-[44px] min-w-[44px]",onClick:()=>i(!1),children:e.jsx(Me,{className:"h-5 w-5"})}),e.jsxs("div",{className:"lg:hidden relative",ref:w,children:[e.jsx(b,{variant:"ghost",size:"icon",className:"min-h-[44px] min-w-[44px]",onClick:()=>x(!f),children:e.jsx(Ye,{className:"w-5 h-5"})}),f&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg z-50 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"font-medium",children:m?.username}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:[m?.role," • ",m?.lastLogin?new Date(m.lastLogin).toLocaleDateString():"Never"]})]}),e.jsxs(b,{variant:"ghost",className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>{x(!1),y()},children:[e.jsx(gt,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]})]})]}),e.jsx("nav",{className:"mt-4 px-2 sm:px-3 space-y-1 flex-1 overflow-y-auto",children:M.map(j=>{const l=j.icon;return e.jsxs(b,{variant:a===j.id?"default":"ghost",className:de("w-full justify-start mb-1 min-h-[44px] text-sm sm:text-base",a===j.id?"bg-primary text-primary-foreground":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),onClick:()=>{s(j.id),i(!1)},children:[e.jsx(l,{className:"mr-2 sm:mr-3 h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:j.label})]},j.id)})}),e.jsxs("div",{className:"hidden lg:block border-t border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Ye,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:m?.username}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:m?.role})]})]}),e.jsxs(b,{variant:"outline",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 border-red-200 dark:border-red-800",onClick:y,children:[e.jsx(gt,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]}),e.jsxs("div",{className:"lg:ml-64 min-h-screen relative",children:[e.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-30",children:e.jsx(b,{variant:"ghost",size:"icon",className:"min-h-[44px] min-w-[44px] bg-white shadow-md",onClick:()=>i(!0),children:e.jsx(Rs,{className:"h-5 w-5"})})}),e.jsx("main",{className:"pt-16 lg:pt-0 p-3 sm:p-4 lg:p-6 w-full",children:e.jsx("div",{className:"max-w-full",children:r})})]})]})},ft=({adminStats:r})=>{const a=[{title:"Orders Today",value:r?r.ordersToday.toString():"0",change:"+8.2%",changeType:"positive",icon:Fe,color:"text-blue-600"},{title:"Active Customers",value:r?r.activeCustomers.toString():"0",change:"+5.1%",changeType:"positive",icon:we,color:"text-purple-600"},{title:"Menu Items",value:"150+",change:"+2.1%",changeType:"positive",icon:Xe,color:"text-green-600"},{title:"Low Stock Items",value:r?r.lowStockItems.toString():"0",change:"-15.3%",changeType:"positive",icon:ze,color:"text-orange-600"}],s=r?.recentOrders.map((i,f)=>({id:i._id||i.id||`order-${f}`,displayId:`#${i._id||i.id||f+1}`,customer:i.customerInfo.name,items:i.items.length,status:i.status,time:new Date(i.createdAt).toLocaleTimeString()}))||[],c=r?.topItems.map(i=>({name:i.name,orders:i.orders}))||[];return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/80 rounded-lg p-4 sm:p-6 text-white",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-2",children:"Welcome back, Admin!"}),e.jsx("p",{className:"opacity-90 text-sm sm:text-base",children:"Here's what's happening at Epping Food Court today."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:a.map((i,f)=>{const x=i.icon;return e.jsx(C,{className:"hover:shadow-lg transition-shadow",children:e.jsx(I,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:i.title}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:i.value}),e.jsxs("div",{className:"flex items-center mt-1 sm:mt-2",children:[i.changeType==="positive"?e.jsx(Zs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 mr-1 flex-shrink-0"}):e.jsx(Ys,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-500 mr-1 flex-shrink-0"}),e.jsx("span",{className:`text-xs sm:text-sm font-medium ${i.changeType==="positive"?"text-green-600":"text-red-600"}`,children:i.change}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1 hidden sm:inline",children:"vs last week"})]})]}),e.jsx("div",{className:`p-2 sm:p-3 rounded-full bg-gray-100 dark:bg-gray-700 ${i.color} flex-shrink-0`,children:e.jsx(x,{className:"h-4 w-4 sm:h-6 sm:w-6"})})]})})},f)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(C,{children:e.jsxs(I,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Orders"}),e.jsx(b,{variant:"outline",size:"sm",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:s.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:i.displayId}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.customer}),e.jsxs("p",{className:"text-xs text-gray-500",children:[i.items," items"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.time}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i.status==="delivered"?"bg-green-100 text-green-800":i.status==="ready"?"bg-blue-100 text-blue-800":i.status==="preparing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:i.status})]})]},i.id))})]})}),e.jsx(C,{children:e.jsxs(I,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Items"}),e.jsx(b,{variant:"outline",size:"sm",children:"View Menu"})]}),e.jsx("div",{className:"space-y-3",children:c.map((i,f)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-primary",children:f+1})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:i.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.orders," orders"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"text-sm text-gray-500",children:"Popular"})})]},f))})]})})]}),e.jsx(C,{children:e.jsxs(I,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(b,{className:"h-20 flex flex-col space-y-2",children:[e.jsx(Fe,{className:"h-6 w-6"}),e.jsx("span",{children:"New Order"})]}),e.jsxs(b,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[e.jsx(Xe,{className:"h-6 w-6"}),e.jsx("span",{children:"Add Menu Item"})]}),e.jsxs(b,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[e.jsx(we,{className:"h-6 w-6"}),e.jsx("span",{children:"View Customers"})]}),e.jsxs(b,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[e.jsx(_e,{className:"h-6 w-6"}),e.jsx("span",{children:"View Analytics"})]})]})]})})]})},Va=Ls("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ae({className:r,variant:a,...s}){return e.jsx("div",{className:de(Va({variant:a}),r),...s})}class za{subscribers=[];categories=[{id:"proteins",name:"Proteins",description:"Meat, poultry, fish, and plant proteins",color:"bg-red-100 text-red-800"},{id:"vegetables",name:"Vegetables",description:"Fresh and frozen vegetables",color:"bg-green-100 text-green-800"},{id:"dairy",name:"Dairy",description:"Milk, cheese, yogurt, and dairy products",color:"bg-blue-100 text-blue-800"},{id:"spices",name:"Spices & Herbs",description:"Spices, herbs, and seasonings",color:"bg-yellow-100 text-yellow-800"},{id:"grains",name:"Grains & Bread",description:"Rice, bread, naan, and grain products",color:"bg-orange-100 text-orange-800"},{id:"sauces",name:"Sauces & Condiments",description:"Sauces, oils, and condiments",color:"bg-purple-100 text-purple-800"},{id:"frozen",name:"Frozen Items",description:"Frozen ingredients and prepared items",color:"bg-gray-100 text-gray-800"},{id:"beverages",name:"Beverages",description:"Drinks and beverage ingredients",color:"bg-cyan-100 text-cyan-800"}];async getAllItems(a,s){try{const c={};return a&&(c.category=a),s&&(c.lowStock="true"),(await oe.get("/inventory",{params:c})).data.data}catch(c){return console.error("Failed to get inventory items:",c),[]}}getCategories(){return this.categories}async getItemById(a){try{return(await oe.get(`/inventory/${a}`)).data.data}catch(s){return console.error("Failed to get inventory item:",s),null}}async getItemsByCategory(a){return this.getAllItems(a)}async getLowStockItems(){try{return(await oe.get("/inventory/low-stock")).data.data}catch(a){return console.error("Failed to get low stock items:",a),[]}}async getLowStockItemsCount(){return(await this.getLowStockItems()).length}getLowStockItemsCountSync(){return console.warn("getLowStockItemsCountSync is deprecated. Use async getLowStockItemsCount() instead."),0}async updateStock(a,s){try{const c=await oe.patch(`/inventory/${a}/stock`,{currentStock:s});return this.notifySubscribers(),c.data.data}catch(c){throw console.error("Failed to update stock:",c),c}}async addItem(a){try{const s=await oe.post("/inventory",a);return this.notifySubscribers(),s.data.data}catch(s){throw console.error("Failed to add inventory item:",s),s}}async updateItem(a,s){try{const c=await oe.put(`/inventory/${a}`,s);return this.notifySubscribers(),c.data.data}catch(c){throw console.error("Failed to update inventory item:",c),c}}async deleteItem(a){try{return await oe.delete(`/inventory/${a}`),this.notifySubscribers(),!0}catch(s){throw console.error("Failed to delete inventory item:",s),s}}async getInventoryStats(){try{const s=(await oe.get("/inventory/stats")).data.data;return{totalItems:s.totalItems||0,lowStockCount:s.lowStockCount||0,totalValue:s.totalValue||0,categories:this.categories.map(c=>{const i=s.byCategory?.find(f=>f._id===c.id);return{...c,itemCount:i?.count||0,lowStockCount:i?.lowStockCount||0}})}}catch(a){return console.error("Failed to get inventory stats:",a),{totalItems:0,lowStockCount:0,totalValue:0,categories:this.categories.map(s=>({...s,itemCount:0,lowStockCount:0}))}}}subscribe(a){return this.subscribers.push(a),()=>{const s=this.subscribers.indexOf(a);s>-1&&this.subscribers.splice(s,1)}}notifySubscribers(){this.subscribers.forEach(a=>{try{a()}catch(s){console.error("Error in inventory subscriber:",s)}})}reset(){console.warn("reset is not supported with backend API")}}const ce=new za;class Ba{updateCallbacks=[];cachedStats=null;lastUpdate=0;updateInterval=null;unsubscribers=[];constructor(){this.cachedStats={totalRevenue:0,totalOrders:0,activeCustomers:0,averageOrderValue:0,ordersToday:0,revenueToday:0,topItems:[],recentOrders:[],lowStockItems:0},this.startRealTimeUpdates()}subscribe(a){return this.updateCallbacks.push(a),this.cachedStats&&a(this.cachedStats),this.notifySubscribers().catch(console.error),()=>{this.updateCallbacks=this.updateCallbacks.filter(s=>s!==a)}}startRealTimeUpdates(){if(this.updateInterval)return;this.notifySubscribers().catch(console.error),this.updateInterval=setInterval(()=>{const i=Date.now();i-this.lastUpdate>1e4&&(this.notifySubscribers().catch(console.error),this.lastUpdate=i)},5e3);const a=ge.subscribe(()=>this.scheduleNotifySoon()),s=re.subscribe(()=>this.scheduleNotifySoon()),c=ce.subscribe(()=>this.scheduleNotifySoon());this.unsubscribers.push(a,s,c)}stopRealTimeUpdates(){this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null),this.unsubscribers.forEach(a=>{try{a()}catch{}}),this.unsubscribers=[]}async notifySubscribers(){try{this.cachedStats=await this.getStats(),this.updateCallbacks.forEach(a=>{try{a(this.cachedStats)}catch(s){console.error("Error in admin service callback:",s)}})}catch(a){console.error("Error updating admin stats:",a)}}notifyScheduled=!1;scheduleNotifySoon(){this.notifyScheduled||(this.notifyScheduled=!0,setTimeout(()=>{this.notifyScheduled=!1,this.notifySubscribers().catch(console.error)},250))}async getStats(){const a=await ge.getOrders();await re.fetchAll();const s=new Date;s.setHours(0,0,0,0);const c=a.filter(j=>new Date(j.createdAt)>=s),i=c.reduce((j,l)=>j+l.total,0),f=a.reduce((j,l)=>j+l.total,0),x=a.length,m=new Map;a.forEach(j=>{j.items.forEach(l=>{const o=l.name,N=m.get(o)||{orders:0,revenue:0};m.set(o,{orders:N.orders+l.quantity,revenue:N.revenue+l.price*l.quantity})})});const d=Array.from(m.entries()).map(([j,l])=>({name:j,...l})).sort((j,l)=>l.revenue-j.revenue).slice(0,5),v=await ce.getLowStockItemsCount(),w=new Date;w.setDate(w.getDate()-30);const y=a.filter(j=>new Date(j.createdAt)>=w),M=new Set(y.map(j=>j.customerInfo.email));return{totalRevenue:f,totalOrders:x,activeCustomers:M.size,averageOrderValue:x>0?f/x:0,ordersToday:c.length,revenueToday:i,topItems:d,recentOrders:a.slice(0,10).reverse(),lowStockItems:v}}async updateOrderStatus(a,s){await ge.updateOrderStatus(a,s),this.scheduleNotifySoon()}async addOrder(a){const s={...a,status:"pending"},c=await ge.storeOrder(s);return this.scheduleNotifySoon(),c}async updateMenuItemStock(a,s){await re.setStock(a,s),this.scheduleNotifySoon()}async getOrdersByStatus(a){return await ge.getOrders({status:a})}async getTodaysOrders(){const a=new Date;return a.setHours(0,0,0,0),(await ge.getOrders()).filter(c=>new Date(c.createdAt)>=a)}async getOrdersByDateRange(a,s){return await ge.getOrders({startDate:a.toISOString(),endDate:s.toISOString()})}}const De=new Ba,Oe=n.forwardRef(({className:r,...a},s)=>e.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...a}));Oe.displayName="Textarea";function jt(r,[a,s]){return Math.min(s,Math.max(a,r))}function Ua(r){const a=n.useRef({value:r,previous:r});return n.useMemo(()=>(a.current.value!==r&&(a.current.previous=a.current.value,a.current.value=r),a.current.previous),[r])}var Ha=[" ","Enter","ArrowUp","ArrowDown"],qa=[" ","Enter"],Ie="Select",[Ue,He,Wa]=ws(Ie),[Pe,Ur]=wt(Ie,[Wa,bt]),qe=bt(),[Ga,Ne]=Pe(Ie),[Ka,Qa]=Pe(Ie),Et=r=>{const{__scopeSelect:a,children:s,open:c,defaultOpen:i,onOpenChange:f,value:x,defaultValue:m,onValueChange:d,dir:v,name:w,autoComplete:y,disabled:M,required:j,form:l}=r,o=qe(a),[N,P]=n.useState(null),[T,k]=n.useState(null),[V,B]=n.useState(!1),J=Ns(v),[U,W]=dt({prop:c,defaultProp:i??!1,onChange:f,caller:Ie}),[R,q]=dt({prop:x,defaultProp:m,onChange:d,caller:Ie}),Y=n.useRef(null),X=N?l||!!N.closest("form"):!0,[ee,Z]=n.useState(new Set),te=Array.from(ee).map(p=>p.props.value).join(";");return e.jsx(bs,{...o,children:e.jsxs(Ga,{required:j,scope:a,trigger:N,onTriggerChange:P,valueNode:T,onValueNodeChange:k,valueNodeHasChildren:V,onValueNodeHasChildrenChange:B,contentId:nt(),value:R,onValueChange:q,open:U,onOpenChange:W,dir:J,triggerPointerDownPosRef:Y,disabled:M,children:[e.jsx(Ue.Provider,{scope:a,children:e.jsx(Ka,{scope:r.__scopeSelect,onNativeOptionAdd:n.useCallback(p=>{Z(t=>new Set(t).add(p))},[]),onNativeOptionRemove:n.useCallback(p=>{Z(t=>{const g=new Set(t);return g.delete(p),g})},[]),children:s})}),X?e.jsxs(ss,{"aria-hidden":!0,required:j,tabIndex:-1,name:w,autoComplete:y,value:R,onChange:p=>q(p.target.value),disabled:M,form:l,children:[R===void 0?e.jsx("option",{value:""}):null,Array.from(ee)]},te):null]})})};Et.displayName=Ie;var _t="SelectTrigger",Mt=n.forwardRef((r,a)=>{const{__scopeSelect:s,disabled:c=!1,...i}=r,f=qe(s),x=Ne(_t,s),m=x.disabled||c,d=ue(a,x.onTriggerChange),v=He(s),w=n.useRef("touch"),[y,M,j]=rs(o=>{const N=v().filter(k=>!k.disabled),P=N.find(k=>k.value===x.value),T=ns(N,o,P);T!==void 0&&x.onValueChange(T.value)}),l=o=>{m||(x.onOpenChange(!0),j()),o&&(x.triggerPointerDownPosRef.current={x:Math.round(o.pageX),y:Math.round(o.pageY)})};return e.jsx(ks,{asChild:!0,...f,children:e.jsx(ie.button,{type:"button",role:"combobox","aria-controls":x.contentId,"aria-expanded":x.open,"aria-required":x.required,"aria-autocomplete":"none",dir:x.dir,"data-state":x.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":as(x.value)?"":void 0,...i,ref:d,onClick:se(i.onClick,o=>{o.currentTarget.focus(),w.current!=="mouse"&&l(o)}),onPointerDown:se(i.onPointerDown,o=>{w.current=o.pointerType;const N=o.target;N.hasPointerCapture(o.pointerId)&&N.releasePointerCapture(o.pointerId),o.button===0&&o.ctrlKey===!1&&o.pointerType==="mouse"&&(l(o),o.preventDefault())}),onKeyDown:se(i.onKeyDown,o=>{const N=y.current!=="";!(o.ctrlKey||o.altKey||o.metaKey)&&o.key.length===1&&M(o.key),!(N&&o.key===" ")&&Ha.includes(o.key)&&(l(),o.preventDefault())})})})});Mt.displayName=_t;var Ft="SelectValue",Dt=n.forwardRef((r,a)=>{const{__scopeSelect:s,className:c,style:i,children:f,placeholder:x="",...m}=r,d=Ne(Ft,s),{onValueNodeHasChildrenChange:v}=d,w=f!==void 0,y=ue(a,d.onValueNodeChange);return ve(()=>{v(w)},[v,w]),e.jsx(ie.span,{...m,ref:y,style:{pointerEvents:"none"},children:as(d.value)?e.jsx(e.Fragment,{children:x}):f})});Dt.displayName=Ft;var Ya="SelectIcon",Rt=n.forwardRef((r,a)=>{const{__scopeSelect:s,children:c,...i}=r;return e.jsx(ie.span,{"aria-hidden":!0,...i,ref:a,children:c||"▼"})});Rt.displayName=Ya;var Xa="SelectPortal",Lt=r=>e.jsx(Ss,{asChild:!0,...r});Lt.displayName=Xa;var Te="SelectContent",$t=n.forwardRef((r,a)=>{const s=Ne(Te,r.__scopeSelect),[c,i]=n.useState();if(ve(()=>{i(new DocumentFragment)},[]),!s.open){const f=c;return f?kt.createPortal(e.jsx(Vt,{scope:r.__scopeSelect,children:e.jsx(Ue.Slot,{scope:r.__scopeSelect,children:e.jsx("div",{children:r.children})})}),f):null}return e.jsx(zt,{...r,ref:a})});$t.displayName=Te;var me=10,[Vt,be]=Pe(Te),Za="SelectContentImpl",Ja=Ps("SelectContent.RemoveScroll"),zt=n.forwardRef((r,a)=>{const{__scopeSelect:s,position:c="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:f,onPointerDownOutside:x,side:m,sideOffset:d,align:v,alignOffset:w,arrowPadding:y,collisionBoundary:M,collisionPadding:j,sticky:l,hideWhenDetached:o,avoidCollisions:N,...P}=r,T=Ne(Te,s),[k,V]=n.useState(null),[B,J]=n.useState(null),U=ue(a,_=>V(_)),[W,R]=n.useState(null),[q,Y]=n.useState(null),X=He(s),[ee,Z]=n.useState(!1),te=n.useRef(!1);n.useEffect(()=>{if(k)return Is(k)},[k]),Ts();const p=n.useCallback(_=>{const[K,...le]=X().map(D=>D.ref.current),[z]=le.slice(-1),O=document.activeElement;for(const D of _)if(D===O||(D?.scrollIntoView({block:"nearest"}),D===K&&B&&(B.scrollTop=0),D===z&&B&&(B.scrollTop=B.scrollHeight),D?.focus(),document.activeElement!==O))return},[X,B]),t=n.useCallback(()=>p([W,k]),[p,W,k]);n.useEffect(()=>{ee&&t()},[ee,t]);const{onOpenChange:g,triggerPointerDownPosRef:u}=T;n.useEffect(()=>{if(k){let _={x:0,y:0};const K=z=>{_={x:Math.abs(Math.round(z.pageX)-(u.current?.x??0)),y:Math.abs(Math.round(z.pageY)-(u.current?.y??0))}},le=z=>{_.x<=10&&_.y<=10?z.preventDefault():k.contains(z.target)||g(!1),document.removeEventListener("pointermove",K),u.current=null};return u.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",le,{capture:!0})}}},[k,g,u]),n.useEffect(()=>{const _=()=>g(!1);return window.addEventListener("blur",_),window.addEventListener("resize",_),()=>{window.removeEventListener("blur",_),window.removeEventListener("resize",_)}},[g]);const[A,H]=rs(_=>{const K=X().filter(O=>!O.disabled),le=K.find(O=>O.ref.current===document.activeElement),z=ns(K,_,le);z&&setTimeout(()=>z.ref.current.focus())}),ne=n.useCallback((_,K,le)=>{const z=!te.current&&!le;(T.value!==void 0&&T.value===K||z)&&(R(_),z&&(te.current=!0))},[T.value]),h=n.useCallback(()=>k?.focus(),[k]),S=n.useCallback((_,K,le)=>{const z=!te.current&&!le;(T.value!==void 0&&T.value===K||z)&&Y(_)},[T.value]),E=c==="popper"?et:Bt,G=E===et?{side:m,sideOffset:d,align:v,alignOffset:w,arrowPadding:y,collisionBoundary:M,collisionPadding:j,sticky:l,hideWhenDetached:o,avoidCollisions:N}:{};return e.jsx(Vt,{scope:s,content:k,viewport:B,onViewportChange:J,itemRefCallback:ne,selectedItem:W,onItemLeave:h,itemTextRefCallback:S,focusSelectedItem:t,selectedItemText:q,position:c,isPositioned:ee,searchRef:A,children:e.jsx(Os,{as:Ja,allowPinchZoom:!0,children:e.jsx(As,{asChild:!0,trapped:T.open,onMountAutoFocus:_=>{_.preventDefault()},onUnmountAutoFocus:se(i,_=>{T.trigger?.focus({preventScroll:!0}),_.preventDefault()}),children:e.jsx(Es,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:f,onPointerDownOutside:x,onFocusOutside:_=>_.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:e.jsx(E,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:_=>_.preventDefault(),...P,...G,onPlaced:()=>Z(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:se(P.onKeyDown,_=>{const K=_.ctrlKey||_.altKey||_.metaKey;if(_.key==="Tab"&&_.preventDefault(),!K&&_.key.length===1&&H(_.key),["ArrowUp","ArrowDown","Home","End"].includes(_.key)){let z=X().filter(O=>!O.disabled).map(O=>O.ref.current);if(["ArrowUp","End"].includes(_.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes(_.key)){const O=_.target,D=z.indexOf(O);z=z.slice(D+1)}setTimeout(()=>p(z)),_.preventDefault()}})})})})})})});zt.displayName=Za;var er="SelectItemAlignedPosition",Bt=n.forwardRef((r,a)=>{const{__scopeSelect:s,onPlaced:c,...i}=r,f=Ne(Te,s),x=be(Te,s),[m,d]=n.useState(null),[v,w]=n.useState(null),y=ue(a,U=>w(U)),M=He(s),j=n.useRef(!1),l=n.useRef(!0),{viewport:o,selectedItem:N,selectedItemText:P,focusSelectedItem:T}=x,k=n.useCallback(()=>{if(f.trigger&&f.valueNode&&m&&v&&o&&N&&P){const U=f.trigger.getBoundingClientRect(),W=v.getBoundingClientRect(),R=f.valueNode.getBoundingClientRect(),q=P.getBoundingClientRect();if(f.dir!=="rtl"){const O=q.left-W.left,D=R.left-O,xe=U.left-D,pe=U.width+xe,We=Math.max(pe,W.width),Ge=window.innerWidth-me,Ke=jt(D,[me,Math.max(me,Ge-We)]);m.style.minWidth=pe+"px",m.style.left=Ke+"px"}else{const O=W.right-q.right,D=window.innerWidth-R.right-O,xe=window.innerWidth-U.right-D,pe=U.width+xe,We=Math.max(pe,W.width),Ge=window.innerWidth-me,Ke=jt(D,[me,Math.max(me,Ge-We)]);m.style.minWidth=pe+"px",m.style.right=Ke+"px"}const Y=M(),X=window.innerHeight-me*2,ee=o.scrollHeight,Z=window.getComputedStyle(v),te=parseInt(Z.borderTopWidth,10),p=parseInt(Z.paddingTop,10),t=parseInt(Z.borderBottomWidth,10),g=parseInt(Z.paddingBottom,10),u=te+p+ee+g+t,A=Math.min(N.offsetHeight*5,u),H=window.getComputedStyle(o),ne=parseInt(H.paddingTop,10),h=parseInt(H.paddingBottom,10),S=U.top+U.height/2-me,E=X-S,G=N.offsetHeight/2,_=N.offsetTop+G,K=te+p+_,le=u-K;if(K<=S){const O=Y.length>0&&N===Y[Y.length-1].ref.current;m.style.bottom="0px";const D=v.clientHeight-o.offsetTop-o.offsetHeight,xe=Math.max(E,G+(O?h:0)+D+t),pe=K+xe;m.style.height=pe+"px"}else{const O=Y.length>0&&N===Y[0].ref.current;m.style.top="0px";const xe=Math.max(S,te+o.offsetTop+(O?ne:0)+G)+le;m.style.height=xe+"px",o.scrollTop=K-S+o.offsetTop}m.style.margin=`${me}px 0`,m.style.minHeight=A+"px",m.style.maxHeight=X+"px",c?.(),requestAnimationFrame(()=>j.current=!0)}},[M,f.trigger,f.valueNode,m,v,o,N,P,f.dir,c]);ve(()=>k(),[k]);const[V,B]=n.useState();ve(()=>{v&&B(window.getComputedStyle(v).zIndex)},[v]);const J=n.useCallback(U=>{U&&l.current===!0&&(k(),T?.(),l.current=!1)},[k,T]);return e.jsx(sr,{scope:s,contentWrapper:m,shouldExpandOnScrollRef:j,onScrollButtonChange:J,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:V},children:e.jsx(ie.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Bt.displayName=er;var tr="SelectPopperPosition",et=n.forwardRef((r,a)=>{const{__scopeSelect:s,align:c="start",collisionPadding:i=me,...f}=r,x=qe(s);return e.jsx(_s,{...x,...f,ref:a,align:c,collisionPadding:i,style:{boxSizing:"border-box",...f.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});et.displayName=tr;var[sr,it]=Pe(Te,{}),tt="SelectViewport",Ut=n.forwardRef((r,a)=>{const{__scopeSelect:s,nonce:c,...i}=r,f=be(tt,s),x=it(tt,s),m=ue(a,f.onViewportChange),d=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),e.jsx(Ue.Slot,{scope:s,children:e.jsx(ie.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:se(i.onScroll,v=>{const w=v.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:M}=x;if(M?.current&&y){const j=Math.abs(d.current-w.scrollTop);if(j>0){const l=window.innerHeight-me*2,o=parseFloat(y.style.minHeight),N=parseFloat(y.style.height),P=Math.max(o,N);if(P<l){const T=P+j,k=Math.min(l,T),V=T-k;y.style.height=k+"px",y.style.bottom==="0px"&&(w.scrollTop=V>0?V:0,y.style.justifyContent="flex-end")}}}d.current=w.scrollTop})})})]})});Ut.displayName=tt;var Ht="SelectGroup",[ar,rr]=Pe(Ht),nr=n.forwardRef((r,a)=>{const{__scopeSelect:s,...c}=r,i=nt();return e.jsx(ar,{scope:s,id:i,children:e.jsx(ie.div,{role:"group","aria-labelledby":i,...c,ref:a})})});nr.displayName=Ht;var qt="SelectLabel",Wt=n.forwardRef((r,a)=>{const{__scopeSelect:s,...c}=r,i=rr(qt,s);return e.jsx(ie.div,{id:i.id,...c,ref:a})});Wt.displayName=qt;var $e="SelectItem",[lr,Gt]=Pe($e),Kt=n.forwardRef((r,a)=>{const{__scopeSelect:s,value:c,disabled:i=!1,textValue:f,...x}=r,m=Ne($e,s),d=be($e,s),v=m.value===c,[w,y]=n.useState(f??""),[M,j]=n.useState(!1),l=ue(a,T=>d.itemRefCallback?.(T,c,i)),o=nt(),N=n.useRef("touch"),P=()=>{i||(m.onValueChange(c),m.onOpenChange(!1))};if(c==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(lr,{scope:s,value:c,disabled:i,textId:o,isSelected:v,onItemTextChange:n.useCallback(T=>{y(k=>k||(T?.textContent??"").trim())},[]),children:e.jsx(Ue.ItemSlot,{scope:s,value:c,disabled:i,textValue:w,children:e.jsx(ie.div,{role:"option","aria-labelledby":o,"data-highlighted":M?"":void 0,"aria-selected":v&&M,"data-state":v?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...x,ref:l,onFocus:se(x.onFocus,()=>j(!0)),onBlur:se(x.onBlur,()=>j(!1)),onClick:se(x.onClick,()=>{N.current!=="mouse"&&P()}),onPointerUp:se(x.onPointerUp,()=>{N.current==="mouse"&&P()}),onPointerDown:se(x.onPointerDown,T=>{N.current=T.pointerType}),onPointerMove:se(x.onPointerMove,T=>{N.current=T.pointerType,i?d.onItemLeave?.():N.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(x.onPointerLeave,T=>{T.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:se(x.onKeyDown,T=>{d.searchRef?.current!==""&&T.key===" "||(qa.includes(T.key)&&P(),T.key===" "&&T.preventDefault())})})})})});Kt.displayName=$e;var Ee="SelectItemText",Qt=n.forwardRef((r,a)=>{const{__scopeSelect:s,className:c,style:i,...f}=r,x=Ne(Ee,s),m=be(Ee,s),d=Gt(Ee,s),v=Qa(Ee,s),[w,y]=n.useState(null),M=ue(a,P=>y(P),d.onItemTextChange,P=>m.itemTextRefCallback?.(P,d.value,d.disabled)),j=w?.textContent,l=n.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:j},d.value),[d.disabled,d.value,j]),{onNativeOptionAdd:o,onNativeOptionRemove:N}=v;return ve(()=>(o(l),()=>N(l)),[o,N,l]),e.jsxs(e.Fragment,{children:[e.jsx(ie.span,{id:d.textId,...f,ref:M}),d.isSelected&&x.valueNode&&!x.valueNodeHasChildren?kt.createPortal(f.children,x.valueNode):null]})});Qt.displayName=Ee;var Yt="SelectItemIndicator",Xt=n.forwardRef((r,a)=>{const{__scopeSelect:s,...c}=r;return Gt(Yt,s).isSelected?e.jsx(ie.span,{"aria-hidden":!0,...c,ref:a}):null});Xt.displayName=Yt;var st="SelectScrollUpButton",Zt=n.forwardRef((r,a)=>{const s=be(st,r.__scopeSelect),c=it(st,r.__scopeSelect),[i,f]=n.useState(!1),x=ue(a,c.onScrollButtonChange);return ve(()=>{if(s.viewport&&s.isPositioned){let m=function(){const v=d.scrollTop>0;f(v)};const d=s.viewport;return m(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,s.isPositioned]),i?e.jsx(es,{...r,ref:x,onAutoScroll:()=>{const{viewport:m,selectedItem:d}=s;m&&d&&(m.scrollTop=m.scrollTop-d.offsetHeight)}}):null});Zt.displayName=st;var at="SelectScrollDownButton",Jt=n.forwardRef((r,a)=>{const s=be(at,r.__scopeSelect),c=it(at,r.__scopeSelect),[i,f]=n.useState(!1),x=ue(a,c.onScrollButtonChange);return ve(()=>{if(s.viewport&&s.isPositioned){let m=function(){const v=d.scrollHeight-d.clientHeight,w=Math.ceil(d.scrollTop)<v;f(w)};const d=s.viewport;return m(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,s.isPositioned]),i?e.jsx(es,{...r,ref:x,onAutoScroll:()=>{const{viewport:m,selectedItem:d}=s;m&&d&&(m.scrollTop=m.scrollTop+d.offsetHeight)}}):null});Jt.displayName=at;var es=n.forwardRef((r,a)=>{const{__scopeSelect:s,onAutoScroll:c,...i}=r,f=be("SelectScrollButton",s),x=n.useRef(null),m=He(s),d=n.useCallback(()=>{x.current!==null&&(window.clearInterval(x.current),x.current=null)},[]);return n.useEffect(()=>()=>d(),[d]),ve(()=>{m().find(w=>w.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[m]),e.jsx(ie.div,{"aria-hidden":!0,...i,ref:a,style:{flexShrink:0,...i.style},onPointerDown:se(i.onPointerDown,()=>{x.current===null&&(x.current=window.setInterval(c,50))}),onPointerMove:se(i.onPointerMove,()=>{f.onItemLeave?.(),x.current===null&&(x.current=window.setInterval(c,50))}),onPointerLeave:se(i.onPointerLeave,()=>{d()})})}),ir="SelectSeparator",ts=n.forwardRef((r,a)=>{const{__scopeSelect:s,...c}=r;return e.jsx(ie.div,{"aria-hidden":!0,...c,ref:a})});ts.displayName=ir;var rt="SelectArrow",cr=n.forwardRef((r,a)=>{const{__scopeSelect:s,...c}=r,i=qe(s),f=Ne(rt,s),x=be(rt,s);return f.open&&x.position==="popper"?e.jsx(Ms,{...i,...c,ref:a}):null});cr.displayName=rt;var or="SelectBubbleInput",ss=n.forwardRef(({__scopeSelect:r,value:a,...s},c)=>{const i=n.useRef(null),f=ue(c,i),x=Ua(a);return n.useEffect(()=>{const m=i.current;if(!m)return;const d=window.HTMLSelectElement.prototype,w=Object.getOwnPropertyDescriptor(d,"value").set;if(x!==a&&w){const y=new Event("change",{bubbles:!0});w.call(m,a),m.dispatchEvent(y)}},[x,a]),e.jsx(ie.select,{...s,style:{...$s,...s.style},ref:f,defaultValue:a})});ss.displayName=or;function as(r){return r===""||r===void 0}function rs(r){const a=Cs(r),s=n.useRef(""),c=n.useRef(0),i=n.useCallback(x=>{const m=s.current+x;a(m),(function d(v){s.current=v,window.clearTimeout(c.current),v!==""&&(c.current=window.setTimeout(()=>d(""),1e3))})(m)},[a]),f=n.useCallback(()=>{s.current="",window.clearTimeout(c.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(c.current),[]),[s,i,f]}function ns(r,a,s){const i=a.length>1&&Array.from(a).every(v=>v===a[0])?a[0]:a,f=s?r.indexOf(s):-1;let x=dr(r,Math.max(f,0));i.length===1&&(x=x.filter(v=>v!==s));const d=x.find(v=>v.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==s?d:void 0}function dr(r,a){return r.map((s,c)=>r[(a+c)%r.length])}var mr=Et,ls=Mt,xr=Dt,hr=Rt,ur=Lt,is=$t,pr=Ut,cs=Wt,os=Kt,gr=Qt,yr=Xt,ds=Zt,ms=Jt,xs=ts;const Se=mr,Ce=xr,fe=n.forwardRef(({className:r,children:a,...s},c)=>e.jsxs(ls,{ref:c,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...s,children:[a,e.jsx(hr,{asChild:!0,children:e.jsx(It,{className:"h-4 w-4 opacity-50"})})]}));fe.displayName=ls.displayName;const hs=n.forwardRef(({className:r,...a},s)=>e.jsx(ds,{ref:s,className:de("flex cursor-default items-center justify-center py-1",r),...a,children:e.jsx(la,{className:"h-4 w-4"})}));hs.displayName=ds.displayName;const us=n.forwardRef(({className:r,...a},s)=>e.jsx(ms,{ref:s,className:de("flex cursor-default items-center justify-center py-1",r),...a,children:e.jsx(It,{className:"h-4 w-4"})}));us.displayName=ms.displayName;const je=n.forwardRef(({className:r,children:a,position:s="popper",...c},i)=>e.jsx(ur,{children:e.jsxs(is,{ref:i,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:s,...c,children:[e.jsx(hs,{}),e.jsx(pr,{className:de("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(us,{})]})}));je.displayName=is.displayName;const fr=n.forwardRef(({className:r,...a},s)=>e.jsx(cs,{ref:s,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a}));fr.displayName=cs.displayName;const Q=n.forwardRef(({className:r,children:a,...s},c)=>e.jsxs(os,{ref:c,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(yr,{children:e.jsx(aa,{className:"h-4 w-4"})})}),e.jsx(gr,{children:a})]}));Q.displayName=os.displayName;const jr=n.forwardRef(({className:r,...a},s)=>e.jsx(xs,{ref:s,className:de("-mx-1 my-1 h-px bg-muted",r),...a}));jr.displayName=xs.displayName;const vr=()=>{const[r,a]=n.useState([]),[s,c]=n.useState(!0),[i,f]=n.useState(null),[x,m]=n.useState(null),[d,v]=n.useState({customerName:"",customerPhone:"",customerEmail:"",deliveryAddress:"",specialInstructions:"",orderType:"delivery",items:[]}),[w,y]=n.useState(!1),[M,j]=n.useState([]),[l,o]=n.useState(""),[N,P]=n.useState(1),T=[{id:"pending",title:"New Orders",color:"bg-gray-100",textColor:"text-gray-800"},{id:"confirmed",title:"Confirmed",color:"bg-blue-100",textColor:"text-blue-800"},{id:"preparing",title:"Preparing",color:"bg-yellow-100",textColor:"text-yellow-800"},{id:"ready",title:"Ready",color:"bg-orange-100",textColor:"text-orange-800"},{id:"delivered",title:"Delivered",color:"bg-green-100",textColor:"text-green-800"}],k=async()=>{c(!0);try{const t=await ge.getOrders();a(t.slice().reverse())}catch(t){console.error("Error loading orders:",t)}finally{c(!1)}},V=()=>{const t=r.filter(g=>g.status==="pending");if(t.length===0){alert("No new orders to print");return}t.forEach((g,u)=>{setTimeout(()=>{Z(g)},u*1e3)})},B=async t=>{m(t),v({customerName:t.customerInfo.name,customerPhone:t.customerInfo.phone,customerEmail:t.customerInfo.email,deliveryAddress:t.customerInfo.address||"",specialInstructions:t.specialInstructions||"",orderType:t.orderType,items:t.items.map(A=>({name:A.name,quantity:A.quantity,price:A.price,brand:A.brand}))});const u=(await re.getAll()).filter(A=>A.inStock);j(u.map(A=>({name:A.name,price:A.price,brand:A.restaurant,category:A.category})))},J=()=>{m(null),v({customerName:"",customerPhone:"",customerEmail:"",deliveryAddress:"",specialInstructions:"",orderType:"delivery",items:[]}),y(!1),o(""),P(1)},U=(t,g)=>{if(g<1)return;const u=[...d.items];u[t].quantity=g,v({...d,items:u})},W=t=>{const g=d.items.filter((u,A)=>A!==t);v({...d,items:g})},R=()=>{if(!l)return;const t=M.find(u=>u.name===l);if(!t)return;const g=d.items.findIndex(u=>u.name===l);if(g!==-1){const u=[...d.items];u[g].quantity+=N,v({...d,items:u})}else{const u={name:t.name,quantity:N,price:t.price,brand:t.brand};v({...d,items:[...d.items,u]})}o(""),P(1),y(!1)},q=async()=>{if(!x)return;const t=d.items.reduce((u,A)=>u+A.price*A.quantity,0),g={customerInfo:{name:d.customerName,phone:d.customerPhone,email:d.customerEmail,address:d.deliveryAddress||void 0},specialInstructions:d.specialInstructions||void 0,orderType:d.orderType,items:d.items,total:t,status:x.status};try{const u=x._id||x.id;u&&(await ge.updateOrder(u,g),await k()),J()}catch(u){console.error("Failed to save order:",u),alert("Failed to save order changes")}};n.useEffect(()=>{k();const t=De.subscribe(()=>{k()});return()=>{t()}},[]);const Y=(t,g)=>{f(g),t.dataTransfer.effectAllowed="move"},X=t=>{t.preventDefault(),t.dataTransfer.dropEffect="move"},ee=async(t,g)=>{if(t.preventDefault(),i)try{await De.updateOrderStatus(i,g),await k(),f(null)}catch(u){console.error("Failed to update order status:",u)}},Z=t=>{const g=window.open("","_blank","width=800,height=900");if(!g)return;const u=t._id||t.id||"N/A",A=u.length>8?u.slice(-8):u,H={},ne={};t.items.forEach(O=>{const D=O.brand||"Unknown";H[D]||(H[D]=[]);const xe=H[D].find(pe=>pe.name===O.name);xe?xe.quantity+=O.quantity:H[D].push({name:O.name,quantity:O.quantity,price:O.price}),ne[O.name]||(ne[O.name]={name:O.name,quantity:0,price:O.price}),ne[O.name].quantity+=O.quantity});const h=["OhSmash","Wonder Wings","Okra Green"],S=`
      <style>
        * { box-sizing: border-box; }
        body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; color: #111827; margin: 0; padding: 0; }
        .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #E5E7EB; padding-bottom: 16px; }
        .muted { color: #6B7280; }
        .page { padding: 24px; min-height: 100vh; }
        .page + .page { page-break-before: always; }
        h1 { font-size: 24px; margin: 0 0 8px 0; font-weight: 700; }
        h2 { font-size: 18px; margin: 0 0 12px 0; font-weight: 600; }
        table { width: 100%; border-collapse: collapse; margin-top: 16px; }
        th, td { padding: 12px 8px; font-size: 14px; }
        thead th { text-align: left; border-bottom: 2px solid #E5E7EB; font-weight: 600; background: #F9FAFB; }
        tbody tr:nth-child(even) { background: #F9FAFB; }
        tbody tr + tr td { border-top: 1px solid #E5E7EB; }
        .qty, .price { text-align: right; }
        .totals { text-align: right; font-weight: 700; font-size: 16px; margin-top: 16px; padding-top: 12px; border-top: 2px solid #E5E7EB; }
        .pill { display:inline-block; padding:4px 12px; border-radius:9999px; background:#3B82F6; color: white; font-size:12px; font-weight: 500; }
        .meta { margin: 12px 0 20px 0; font-size: 13px; line-height: 1.4; }
        .brand-header { background: #F3F4F6; padding: 8px 12px; border-radius: 6px; margin-bottom: 16px; }
        @media print {
          .page { margin: 0; padding: 20px; }
          .page + .page { page-break-before: always; }
        }
      </style>
    `,E=(O,D)=>`
      <div class="header">
        <h1>Epping Food Court</h1>
        <h2>${O}</h2>
        ${D?`<div class="brand-header"><strong>Kitchen Team:</strong> ${D}</div>`:""}
        <div class="meta muted">
          <div><strong>Order #${A}</strong> • ${new Date(t.createdAt).toLocaleString()}</div>
          <div>${t.orderType.toUpperCase()} • <span class="pill">${t.customerInfo.name}</span> • ${t.customerInfo.phone}</div>
          ${t.orderType==="delivery"&&t.customerInfo.address?`<div><strong>Delivery Address:</strong> ${t.customerInfo.address}</div>`:""}
          ${t.specialInstructions?`<div><strong>Special Instructions:</strong> ${t.specialInstructions}</div>`:""}
        </div>
      </div>
    `,G=O=>`
      <table>
        <thead>
          <tr>
            <th>Item</th>
            <th class="qty">Qty</th>
          </tr>
        </thead>
        <tbody>
          ${O.map(D=>`
            <tr>
              <td>${D.name}</td>
              <td class="qty">x${D.quantity}</td>
            </tr>
          `).join("")}
        </tbody>
      </table>
    `,_=O=>`
      <table>
        <thead>
          <tr>
            <th>Item</th>
            <th class="qty">Qty</th>
            <th class="price">Price</th>
          </tr>
        </thead>
        <tbody>
          ${O.map(D=>`
            <tr>
              <td>${D.name}</td>
              <td class="qty">x${D.quantity}</td>
              <td class="price">£${(D.price*D.quantity).toFixed(2)}</td>
            </tr>
          `).join("")}
        </tbody>
      </table>
    `,K=h.filter(O=>H[O]&&H[O].length>0).map(O=>`
          <div class="page">
            ${E("Kitchen Ticket",O)}
            ${G(H[O])}
          </div>
        `).join(""),le=Object.values(ne).sort((O,D)=>O.name.localeCompare(D.name)),z=`
      <div class="page">
        ${E("Packing Sheet — Customer Copy")}
        ${_(le)}
        <div class="totals">Order Total: £${t.total.toFixed(2)}</div>
      </div>
    `;g.document.write(`
      <html>
        <head>
          <title>Order ${A} — Print</title>
          ${S}
        </head>
        <body>
          ${K}
          ${z}
          <script>window.print();<\/script>
        </body>
      </html>
    `),g.document.close()},te=t=>r.filter(g=>g.status===t),p=t=>{const g=new Date,u=new Date(t),A=Math.floor((g.getTime()-u.getTime())/(1e3*60));if(A<1)return"Just now";if(A<60)return`${A}m ago`;const H=Math.floor(A/60);return H<24?`${H}h ago`:`${Math.floor(H/24)}d ago`};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Order Management"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(ae,{variant:"outline",children:[r.length," Total Orders"]}),e.jsxs(b,{onClick:V,variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[e.jsx(yt,{className:"h-4 w-4"}),e.jsx("span",{children:"Print All New"})]}),e.jsx(b,{onClick:k,variant:"outline",size:"sm",children:"Refresh"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4 overflow-x-auto",children:s?Array.from({length:5}).map((t,g)=>e.jsxs("div",{className:"space-y-2 sm:space-y-3 min-w-[280px] sm:min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-5 w-8 bg-gray-200 rounded animate-pulse"})]}),e.jsx("div",{className:"min-h-[300px] sm:min-h-[400px] space-y-2 sm:space-y-3 p-2 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:Array.from({length:3}).map((u,A)=>e.jsx(Bs,{},A))})]},g)):T.map(t=>{const g=te(t.id);return e.jsxs("div",{className:"space-y-2 sm:space-y-3 min-w-[280px] sm:min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:t.title}),e.jsx(ae,{className:`${t.color} ${t.textColor} text-xs sm:text-sm`,children:g.length})]}),e.jsx("div",{className:"min-h-[300px] sm:min-h-[400px] space-y-2 sm:space-y-3 p-2 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",onDragOver:X,onDrop:u=>ee(u,t.id),children:g.map(u=>{const A=u._id||u.id||"",H=A.slice(-8);return e.jsx(C,{draggable:!0,onDragStart:ne=>Y(ne,A),className:"cursor-move hover:shadow-md transition-shadow",children:e.jsxs(I,{className:"p-3 sm:p-4 space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-mono text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400",children:["#",H]}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[e.jsx(ze,{className:"h-3 w-3"}),e.jsx("span",{className:"hidden sm:inline",children:p(u.createdAt)})]})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-500 flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white truncate",children:u.customerInfo.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-500 flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:u.customerInfo.phone})]}),u.orderType==="delivery"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Delivery"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[u.items.length," items • £",u.total.toFixed(2)]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[u.items.slice(0,2).map(ne=>ne.name).join(", "),u.items.length>2&&` +${u.items.length-2} more`]})]}),e.jsxs("div",{className:"flex space-x-2 pt-2",children:[e.jsxs(b,{size:"sm",variant:"outline",onClick:()=>Z(u),className:"flex-1",children:[e.jsx(yt,{className:"h-3 w-3 mr-1"}),"Print"]}),e.jsxs(b,{size:"sm",variant:"outline",onClick:()=>B(u),className:"flex-1",children:[e.jsx(At,{className:"h-3 w-3 mr-1"}),"Edit"]})]})]})},A)})})]},t.id)})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Edit Order #",x.id]}),e.jsx(b,{variant:"ghost",size:"sm",onClick:J,children:e.jsx(Me,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(F,{htmlFor:"customerName",children:"Customer Name"}),e.jsx(L,{id:"customerName",value:d.customerName,onChange:t=>v({...d,customerName:t.target.value})})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"customerPhone",children:"Phone"}),e.jsx(L,{id:"customerPhone",value:d.customerPhone,onChange:t=>v({...d,customerPhone:t.target.value})})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"customerEmail",children:"Email"}),e.jsx(L,{id:"customerEmail",type:"email",value:d.customerEmail,onChange:t=>v({...d,customerEmail:t.target.value})})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"orderType",children:"Order Type"}),e.jsxs(Se,{value:d.orderType,onValueChange:t=>v({...d,orderType:t}),children:[e.jsx(fe,{children:e.jsx(Ce,{})}),e.jsxs(je,{children:[e.jsx(Q,{value:"delivery",children:"Delivery"}),e.jsx(Q,{value:"pickup",children:"Pickup"})]})]})]})]}),d.orderType==="delivery"&&e.jsxs("div",{children:[e.jsx(F,{htmlFor:"deliveryAddress",children:"Delivery Address"}),e.jsx(Oe,{id:"deliveryAddress",value:d.deliveryAddress,onChange:t=>v({...d,deliveryAddress:t.target.value}),rows:2})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"specialInstructions",children:"Special Instructions"}),e.jsx(Oe,{id:"specialInstructions",value:d.specialInstructions,onChange:t=>v({...d,specialInstructions:t.target.value}),rows:2})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(F,{children:"Order Items"}),e.jsxs(b,{size:"sm",variant:"outline",onClick:()=>y(!w),className:"flex items-center space-x-1",children:[e.jsx(ke,{className:"h-3 w-3"}),e.jsx("span",{children:"Add Item"})]})]}),w&&e.jsx("div",{className:"border rounded-lg p-4 mb-4 bg-gray-50 dark:bg-gray-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(F,{htmlFor:"menuItem",children:"Select Item"}),e.jsxs(Se,{value:l,onValueChange:o,children:[e.jsx(fe,{children:e.jsx(Ce,{placeholder:"Choose an item"})}),e.jsx(je,{children:M.map((t,g)=>e.jsxs(Q,{value:t.name,children:[t.name," (",t.brand,") - £",t.price.toFixed(2)]},g))})]})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"quantity",children:"Quantity"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{size:"sm",variant:"outline",onClick:()=>P(Math.max(1,N-1)),children:e.jsx(Je,{className:"h-3 w-3"})}),e.jsx(L,{type:"number",min:"1",value:N,onChange:t=>P(Math.max(1,parseInt(t.target.value)||1)),className:"w-16 text-center"}),e.jsx(b,{size:"sm",variant:"outline",onClick:()=>P(N+1),children:e.jsx(ke,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx(b,{onClick:R,disabled:!l,children:"Add to Order"}),e.jsx(b,{variant:"outline",onClick:()=>y(!1),children:"Cancel"})]})]})}),e.jsxs("div",{className:"space-y-2",children:[d.items.map((t,g)=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.brand," • £",t.price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{size:"sm",variant:"outline",onClick:()=>U(g,t.quantity-1),children:e.jsx(Je,{className:"h-3 w-3"})}),e.jsx("span",{className:"w-8 text-center",children:t.quantity}),e.jsx(b,{size:"sm",variant:"outline",onClick:()=>U(g,t.quantity+1),children:e.jsx(ke,{className:"h-3 w-3"})}),e.jsx(b,{size:"sm",variant:"destructive",onClick:()=>W(g),children:e.jsx(Me,{className:"h-3 w-3"})})]})]},g)),d.items.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:'No items in this order. Click "Add Item" to add items.'})]})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),e.jsxs("span",{className:"text-lg font-bold",children:["£",d.items.reduce((t,g)=>t+g.price*g.quantity,0).toFixed(2)]})]})}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(b,{variant:"outline",onClick:J,children:"Cancel"}),e.jsx(b,{onClick:q,children:"Save Changes"})]})]})]})})]})},Nr=()=>{const{toast:r}=Ct(),[a,s]=n.useState([]),[c,i]=n.useState("All"),[f,x]=n.useState(""),[m,d]=n.useState(""),[v,w]=n.useState("grid"),[y,M]=n.useState([]),[j,l]=n.useState(!1),[o,N]=n.useState(null),[P,T]=n.useState(""),[k,V]=n.useState(!0),[B,J]=n.useState(null),[U,W]=n.useState(!1),[R,q]=n.useState({restaurant:"OhSmash",category:"General",name:"",price:0,description:"",image:"",veg:!1,inStock:!0});n.useEffect(()=>{const h=async()=>{V(!0);try{const E=await re.fetchAll();s(E)}catch(E){console.error("Failed to load menu items:",E),r({title:"Error",description:"Failed to load menu items. Please refresh the page.",variant:"destructive"})}finally{V(!1)}};h();const S=re.subscribe(h);return()=>S()},[r]),n.useEffect(()=>{const h=setTimeout(()=>{d(f)},300);return()=>clearTimeout(h)},[f]);const Y=n.useMemo(()=>a.length?a.filter(h=>{if(!(c==="All"||h.restaurant===c))return!1;if(!m)return!0;const E=m.toLowerCase();return h.name.toLowerCase().includes(E)||h.category.toLowerCase().includes(E)||h.description.toLowerCase().includes(E)}):[],[a,c,m]),X=async()=>{if(!R.name||R.price<=0){r({title:"Validation Error",description:"Please enter a valid item name and price.",variant:"destructive"});return}try{const h=await re.add(R);s([h,...a]),q({restaurant:"OhSmash",category:"General",name:"",price:0,description:"",image:"",veg:!1,inStock:!0}),l(!1),r({title:"Success",description:`${h.name} has been added to the menu.`})}catch(h){console.error("Failed to add item:",h),r({title:"Error",description:"Failed to add menu item. Please try again.",variant:"destructive"})}},ee=h=>{const S=a.find(E=>(E.id||E._id)===h);S&&J({id:h,name:S.name})},Z=async()=>{if(B)try{await re.remove(B.id),s(a.filter(h=>(h.id||h._id)!==B.id)),r({title:"Success",description:`${B.name} has been deleted.`}),J(null)}catch(h){console.error("Failed to delete item:",h),r({title:"Error",description:"Failed to delete menu item. Please try again.",variant:"destructive"}),J(null)}},te=async h=>{const S=a.find(E=>(E.id||E._id)===h);if(S)try{await re.setStock(h,!S.inStock),s(a.map(E=>(E.id||E._id)===h?{...E,inStock:!E.inStock}:E)),r({title:"Success",description:`${S.name} is now ${S.inStock?"out of stock":"in stock"}.`})}catch(E){console.error("Failed to toggle stock:",E),r({title:"Error",description:"Failed to update stock status. Please try again.",variant:"destructive"})}},p=h=>{M(S=>S.includes(h)?S.filter(E=>E!==h):[...S,h])},t=async h=>{try{await Promise.all(y.map(S=>re.setStock(S,h))),s(a.map(S=>y.includes(S.id||S._id||"")?{...S,inStock:h}:S)),r({title:"Success",description:`${y.length} item(s) marked as ${h?"in stock":"out of stock"}.`}),M([])}catch(S){console.error("Failed to update stock:",S),r({title:"Error",description:"Failed to update some items. Please try again.",variant:"destructive"})}},g=()=>{W(!0)},u=async()=>{const h=y.length;try{await Promise.all(y.map(S=>re.remove(S))),s(a.filter(S=>!y.includes(S.id||S._id||""))),r({title:"Success",description:`${h} item(s) have been deleted.`}),M([]),W(!1)}catch(S){console.error("Failed to delete items:",S),r({title:"Error",description:"Failed to delete some items. Please try again.",variant:"destructive"}),W(!1)}},A=async(h,S)=>{try{await re.update(h,{description:S}),N(null),r({title:"Success",description:"Description updated successfully."})}catch(E){console.error("Failed to update description:",E),r({title:"Error",description:"Failed to update description. Please try again.",variant:"destructive"})}},H=async(h,S,E)=>{try{await re.update(h,{price:E}),r({title:"Success",description:`Price for ${S} updated to £${E.toFixed(2)}.`})}catch(G){console.error("Failed to update price:",G),r({title:"Error",description:"Failed to update price. Please try again.",variant:"destructive"})}},ne=async(h,S,E)=>{try{await re.update(h,{category:E}),r({title:"Success",description:`Category for ${S} updated to ${E}.`})}catch(G){console.error("Failed to update category:",G),r({title:"Error",description:"Failed to update category. Please try again.",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[B&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx(C,{className:"max-w-md w-full",children:e.jsxs(I,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete Menu Item"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:B.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(b,{variant:"outline",onClick:()=>J(null),children:"Cancel"}),e.jsx(b,{variant:"destructive",onClick:Z,children:"Delete"})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx(C,{className:"max-w-md w-full",children:e.jsxs(I,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete Multiple Items"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Are you sure you want to delete ",e.jsxs("strong",{children:[y.length," item(s)"]}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(b,{variant:"outline",onClick:()=>W(!1),children:"Cancel"}),e.jsx(b,{variant:"destructive",onClick:u,children:"Delete All"})]})]})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Menu Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your menu items and availability"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(b,{variant:"outline",size:"sm",children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(b,{variant:"outline",size:"sm",children:[e.jsx(Da,{className:"h-4 w-4 mr-2"}),"Import"]}),e.jsxs(b,{onClick:()=>l(!0),children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search menu items...",value:f,onChange:h=>x(h.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:c,onChange:h=>i(h.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[e.jsx("option",{value:"All",children:"All Restaurants"}),e.jsx("option",{value:"OhSmash",children:"OhSmash"}),e.jsx("option",{value:"Wonder Wings",children:"Wonder Wings"}),e.jsx("option",{value:"Okra Green",children:"Okra Green"})]}),e.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-600 rounded-lg",children:[e.jsx(b,{variant:v==="grid"?"default":"ghost",size:"sm",onClick:()=>w("grid"),className:"rounded-r-none",children:e.jsx(xa,{className:"h-4 w-4"})}),e.jsx(b,{variant:v==="list"?"default":"ghost",size:"sm",onClick:()=>w("list"),className:"rounded-l-none",children:e.jsx(ga,{className:"h-4 w-4"})})]})]})]})})}),y.length>0&&e.jsx(C,{className:"border-primary",children:e.jsx(I,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-2 sm:space-y-0",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[y.length," item(s) selected"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[e.jsxs(b,{size:"sm",variant:"outline",onClick:()=>t(!0),className:"w-full sm:w-auto",children:[e.jsx(ht,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Mark In Stock"}),e.jsx("span",{className:"sm:hidden",children:"In Stock"})]}),e.jsxs(b,{size:"sm",variant:"outline",onClick:()=>t(!1),className:"w-full sm:w-auto",children:[e.jsx(ut,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Mark Out of Stock"}),e.jsx("span",{className:"sm:hidden",children:"Out of Stock"})]}),e.jsxs(b,{size:"sm",variant:"destructive",onClick:g,className:"w-full sm:w-auto",children:[e.jsx(Ze,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Delete Selected"}),e.jsx("span",{className:"sm:hidden",children:"Delete"})]})]})]})})}),j&&e.jsx(C,{className:"border-primary",children:e.jsxs(I,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Menu Item"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Restaurant"}),e.jsxs("select",{value:R.restaurant,onChange:h=>q({...R,restaurant:h.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"OhSmash",children:"OhSmash"}),e.jsx("option",{value:"Wonder Wings",children:"Wonder Wings"}),e.jsx("option",{value:"Okra Green",children:"Okra Green"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),e.jsx("input",{type:"text",value:R.category,onChange:h=>q({...R,category:h.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Burgers, Sides, Drinks"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Item Name *"}),e.jsx("input",{type:"text",value:R.name,onChange:h=>q({...R,name:h.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Smash Burger"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price (£) *"}),e.jsx("input",{type:"number",step:"0.01",value:R.price,onChange:h=>q({...R,price:Number(h.target.value)}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"0.00"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx("textarea",{value:R.description,onChange:h=>q({...R,description:h.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3,placeholder:"Describe the item..."})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:R.veg,onChange:h=>q({...R,veg:h.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Vegetarian"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:R.inStock,onChange:h=>q({...R,inStock:h.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"In Stock"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[e.jsx(b,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(b,{onClick:X,children:"Add Item"})]})]})}),k?e.jsx("div",{className:v==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-2",children:Array.from({length:8}).map((h,S)=>e.jsx(Us,{},S))}):Y.length===0?e.jsx(C,{children:e.jsx(I,{className:"p-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No menu items found. Add some items to get started!"})})}):e.jsx("div",{className:v==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-2",children:Y.map(h=>e.jsx(C,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(I,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:y.includes(h.id||h._id||""),onChange:()=>p(h.id||h._id||""),className:"rounded"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:h.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h.restaurant," • ",h.category]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(b,{size:"sm",variant:"ghost",onClick:()=>te(h.id||h._id||""),children:h.inStock?e.jsx(ht,{className:"h-4 w-4"}):e.jsx(ut,{className:"h-4 w-4"})}),e.jsx(b,{size:"sm",variant:"ghost",onClick:()=>ee(h.id||h._id||""),children:e.jsx(Ze,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:o===(h.id||h._id)?e.jsxs("div",{className:"space-y-2",children:[e.jsx("textarea",{value:P,onChange:S=>T(S.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3,placeholder:"Description..."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{size:"sm",onClick:()=>A(h.id||h._id||"",P),children:"Save"}),e.jsx(b,{size:"sm",variant:"outline",onClick:()=>N(null),children:"Cancel"})]})]}):e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("p",{className:"line-clamp-2",children:h.description||"No description"}),e.jsx(b,{size:"icon",variant:"ghost",className:"shrink-0",onClick:()=>{N(h.id||h._id||""),T(h.description||"")},"aria-label":"Edit description",children:"✎"})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",step:"0.01",className:"w-24 p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:h.price,onBlur:S=>H(h.id||h._id||"",h.name,Number(S.target.value)),onChange:S=>{const E=Number(S.target.value);s(a.map(G=>(G.id||G._id)===(h.id||h._id)?{...G,price:E}:G))}}),h.veg&&e.jsx(ae,{variant:"outline",className:"text-green-600 border-green-600",children:"VEG"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:h.category,onChange:S=>{const E=S.target.value;s(a.map(G=>(G.id||G._id)===(h.id||h._id)?{...G,category:E}:G)),ne(h.id||h._id||"",h.name,E)},children:e.jsx("option",{value:h.category,children:h.category})}),e.jsx(ae,{className:h.inStock?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:h.inStock?"In Stock":"Out of Stock"})]})]})]})},h.id||h._id))})]})};var ct="Progress",ot=100,[br,Hr]=wt(ct),[wr,kr]=br(ct),ps=n.forwardRef((r,a)=>{const{__scopeProgress:s,value:c=null,max:i,getValueLabel:f=Sr,...x}=r;(i||i===0)&&!vt(i)&&console.error(Cr(`${i}`,"Progress"));const m=vt(i)?i:ot;c!==null&&!Nt(c,m)&&console.error(Ir(`${c}`,"Progress"));const d=Nt(c,m)?c:null,v=Ve(d)?f(d,m):void 0;return e.jsx(wr,{scope:s,value:d,max:m,children:e.jsx(ie.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":Ve(d)?d:void 0,"aria-valuetext":v,role:"progressbar","data-state":fs(d,m),"data-value":d??void 0,"data-max":m,...x,ref:a})})});ps.displayName=ct;var gs="ProgressIndicator",ys=n.forwardRef((r,a)=>{const{__scopeProgress:s,...c}=r,i=kr(gs,s);return e.jsx(ie.div,{"data-state":fs(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...c,ref:a})});ys.displayName=gs;function Sr(r,a){return`${Math.round(r/a*100)}%`}function fs(r,a){return r==null?"indeterminate":r===a?"complete":"loading"}function Ve(r){return typeof r=="number"}function vt(r){return Ve(r)&&!isNaN(r)&&r>0}function Nt(r,a){return Ve(r)&&!isNaN(r)&&r<=a&&r>=0}function Cr(r,a){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ot}\`.`}function Ir(r,a){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ot} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var js=ps,Tr=ys;const vs=n.forwardRef(({className:r,value:a,...s},c)=>e.jsx(js,{ref:c,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...s,children:e.jsx(Tr,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));vs.displayName=js.displayName;const Or=()=>{const{toast:r}=Ct(),[a,s]=n.useState([]),[c,i]=n.useState([]),[f,x]=n.useState(!1),[m,d]=n.useState(null),[v,w]=n.useState(null),[y,M]=n.useState("all"),[j,l]=n.useState(""),[o,N]=n.useState(!0),[P,T]=n.useState({totalItems:0,lowStockCount:0,totalValue:0,categories:[]}),[k,V]=n.useState({name:"",category:"proteins",currentStock:0,minStock:10,maxStock:100,unit:"pieces",supplier:"",description:"",allergens:[]});n.useEffect(()=>{const t=async()=>{N(!0);try{const u=await ce.getAllItems();s(u),i(ce.getCategories());const A=await ce.getInventoryStats();T(A)}finally{N(!1)}};return t(),ce.subscribe(t)},[]);const B=t=>Math.min(t.currentStock/t.maxStock*100,100),J=t=>t.currentStock===0?"bg-red-100 text-red-800":t.currentStock<=t.minStock?"bg-orange-100 text-orange-800":t.currentStock<=t.minStock*1.5?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",U=t=>t.currentStock===0?e.jsx(Re,{className:"h-4 w-4 text-red-500"}):t.currentStock<=t.minStock?e.jsx(Re,{className:"h-4 w-4 text-orange-500"}):t.currentStock<=t.minStock*1.5?e.jsx(Le,{className:"h-4 w-4 text-yellow-500"}):e.jsx(Tt,{className:"h-4 w-4 text-green-500"}),W=t=>t.currentStock===0?"OUT OF STOCK":t.currentStock<=t.minStock?"LOW STOCK":t.currentStock<=t.minStock*1.5?"MEDIUM":"IN STOCK",R=async()=>{if(!k.name||k.currentStock<0){r({title:"Validation Error",description:"Please enter a valid item name and stock quantity.",variant:"destructive"});return}try{await ce.addItem(k);const t=await ce.getAllItems();s(t),r({title:"Success",description:`${k.name} has been added to inventory.`}),V({name:"",category:"proteins",currentStock:0,minStock:10,maxStock:100,unit:"pieces",supplier:"",description:"",allergens:[]}),x(!1)}catch(t){console.error("Failed to add item:",t),r({title:"Error",description:"Failed to add inventory item. Please try again.",variant:"destructive"})}},q=async()=>{if(!m||!k.name){r({title:"Validation Error",description:"Please fill in all required fields.",variant:"destructive"});return}try{const t=m._id||m.id;if(t){await ce.updateItem(t,k);const g=await ce.getAllItems();s(g),r({title:"Success",description:`${k.name} has been updated.`})}d(null),V({name:"",category:"proteins",currentStock:0,minStock:10,maxStock:100,unit:"pieces",supplier:"",description:"",allergens:[]})}catch(t){console.error("Failed to update item:",t),r({title:"Error",description:"Failed to update inventory item. Please try again.",variant:"destructive"})}},Y=t=>{d(t),V({name:t.name,category:t.category,currentStock:t.currentStock,minStock:t.minStock,maxStock:t.maxStock,unit:t.unit,supplier:t.supplier,description:t.description||"",allergens:t.allergens||[]})},X=()=>{d(null),V({name:"",category:"proteins",currentStock:0,minStock:10,maxStock:100,unit:"pieces",supplier:"",description:"",allergens:[]})},ee=async(t,g)=>{try{await ce.updateStock(t,g);const u=await ce.getAllItems();s(u);const A=a.find(H=>(H._id||H.id)===t);r({title:"Success",description:`Stock level for ${A?.name||"item"} updated to ${g} ${A?.unit||"units"}.`})}catch(u){console.error("Failed to update stock:",u),r({title:"Error",description:"Failed to update stock level. Please try again.",variant:"destructive"})}},Z=t=>{const g=a.find(u=>(u._id||u.id)===t);g&&w({id:t,name:g.name})},te=async()=>{if(v)try{await ce.deleteItem(v.id);const t=await ce.getAllItems();s(t),r({title:"Success",description:`${v.name} has been deleted from inventory.`}),w(null)}catch(t){console.error("Failed to delete item:",t),r({title:"Error",description:"Failed to delete inventory item. Please try again.",variant:"destructive"}),w(null)}},p=a.filter(t=>{const g=y==="all"||t.category===y,u=t.name.toLowerCase().includes(j.toLowerCase())||t.supplier.toLowerCase().includes(j.toLowerCase());return g&&u});return a.filter(t=>t.currentStock<=t.minStock),e.jsxs("div",{className:"space-y-6",children:[v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx(C,{className:"max-w-md w-full",children:e.jsxs(I,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete Inventory Item"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:v.name})," from inventory? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(b,{variant:"outline",onClick:()=>w(null),children:"Cancel"}),e.jsx(b,{variant:"destructive",onClick:te,children:"Delete"})]})]})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Inventory Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track stock levels and manage supplies"})]}),e.jsxs(b,{onClick:()=>x(!0),children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Items"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:P.totalItems})]}),e.jsx(Le,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:P.lowStockCount})]}),e.jsx(Re,{className:"h-8 w-8 text-orange-500"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Out of Stock"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.filter(t=>t.currentStock===0).length})]}),e.jsx(Re,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Categories"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.length})]}),e.jsx(ye,{className:"h-8 w-8 text-green-500"})]})})})]}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"h-4 w-4 text-gray-500"}),e.jsx(L,{placeholder:"Search items or suppliers...",value:j,onChange:t=>l(t.target.value),className:"w-full sm:w-64"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"h-4 w-4 text-gray-500"}),e.jsxs(Se,{value:y,onValueChange:M,children:[e.jsx(fe,{className:"w-48",children:e.jsx(Ce,{placeholder:"Filter by category"})}),e.jsxs(je,{children:[e.jsx(Q,{value:"all",children:"All Categories"}),c.map(t=>e.jsx(Q,{value:t.id,children:t.name},t.id))]})]})]})]})})}),(f||m)&&e.jsx(C,{className:"border-primary",children:e.jsxs(I,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:m?"Edit Inventory Item":"Add Inventory Item"}),e.jsx(b,{variant:"ghost",size:"sm",onClick:m?X:()=>x(!1),children:e.jsx(Me,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(F,{htmlFor:"name",children:"Item Name *"}),e.jsx(L,{id:"name",value:k.name,onChange:t=>V({...k,name:t.target.value}),placeholder:"Enter item name"})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"category",children:"Category *"}),e.jsxs(Se,{value:k.category,onValueChange:t=>V({...k,category:t}),children:[e.jsx(fe,{children:e.jsx(Ce,{placeholder:"Select category"})}),e.jsx(je,{children:c.map(t=>e.jsx(Q,{value:t.id,children:t.name},t.id))})]})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"currentStock",children:"Current Stock *"}),e.jsx(L,{id:"currentStock",type:"number",min:"0",value:k.currentStock,onChange:t=>V({...k,currentStock:Number(t.target.value)})})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"unit",children:"Unit *"}),e.jsxs(Se,{value:k.unit,onValueChange:t=>V({...k,unit:t}),children:[e.jsx(fe,{children:e.jsx(Ce,{placeholder:"Select unit"})}),e.jsxs(je,{children:[e.jsx(Q,{value:"pieces",children:"Pieces"}),e.jsx(Q,{value:"pounds",children:"Pounds"}),e.jsx(Q,{value:"kg",children:"Kilograms"}),e.jsx(Q,{value:"liters",children:"Liters"}),e.jsx(Q,{value:"quarts",children:"Quarts"}),e.jsx(Q,{value:"cans",children:"Cans"}),e.jsx(Q,{value:"bottles",children:"Bottles"}),e.jsx(Q,{value:"jars",children:"Jars"}),e.jsx(Q,{value:"bags",children:"Bags"}),e.jsx(Q,{value:"containers",children:"Containers"})]})]})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"minStock",children:"Minimum Stock Level *"}),e.jsx(L,{id:"minStock",type:"number",min:"0",value:k.minStock,onChange:t=>V({...k,minStock:Number(t.target.value)})})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"maxStock",children:"Maximum Stock Level *"}),e.jsx(L,{id:"maxStock",type:"number",min:"0",value:k.maxStock,onChange:t=>V({...k,maxStock:Number(t.target.value)})})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"supplier",children:"Supplier *"}),e.jsx(L,{id:"supplier",value:k.supplier,onChange:t=>V({...k,supplier:t.target.value}),placeholder:"Enter supplier name"})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"description",children:"Description"}),e.jsx(Oe,{id:"description",value:k.description,onChange:t=>V({...k,description:t.target.value}),placeholder:"Enter item description",rows:2})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[e.jsx(b,{variant:"outline",onClick:m?X:()=>x(!1),children:"Cancel"}),e.jsx(b,{onClick:m?q:R,children:m?"Update Item":"Add Item"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:o?e.jsx(e.Fragment,{children:Array.from({length:6}).map((t,g)=>e.jsx(Hs,{},g))}):p.map(t=>e.jsx(C,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(I,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.find(g=>g.id===t.category)?.name||t.category}),t.description&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.description})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[U(t),e.jsx(ae,{className:J(t),children:W(t)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Stock Level"}),e.jsxs("span",{children:[t.currentStock," / ",t.maxStock," ",t.unit]})]}),e.jsx(vs,{value:B(t),className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Min Level:"}),e.jsx("span",{className:"ml-1 font-medium",children:t.minStock})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Supplier:"}),e.jsx("span",{className:"ml-1 font-medium",children:t.supplier})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Updated:"}),e.jsx("span",{className:"ml-1 font-medium",children:new Date(t.lastUpdated).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),e.jsx("span",{className:"ml-1 font-medium",children:t.currentStock<=t.minStock?"Needs Restock":"Good"})]})]}),t.allergens&&t.allergens.length>0&&e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Allergens:"})," ",t.allergens.join(", ")]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(b,{size:"sm",variant:"outline",onClick:()=>ee(t._id||t.id||"",t.currentStock+10),children:"+10"}),e.jsx(b,{size:"sm",variant:"outline",onClick:()=>ee(t._id||t.id||"",t.currentStock+50),children:"+50"})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(b,{size:"sm",variant:"ghost",onClick:()=>Y(t),children:e.jsx(At,{className:"h-4 w-4"})}),e.jsx(b,{size:"sm",variant:"ghost",onClick:()=>Z(t._id||t.id||""),children:e.jsx(Ze,{className:"h-4 w-4"})})]})]})]})]})},t._id||t.id))}),!o&&p.length===0&&e.jsx(C,{children:e.jsxs(I,{className:"p-8 text-center",children:[e.jsx(Le,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No inventory items found"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:j?"Try adjusting your search terms":"Add your first inventory item to get started"})]})})]})},Pr=()=>{const[r,a]=n.useState([]),[s,c]=n.useState(!0),[i,f]=n.useState(""),[x,m]=n.useState("all"),[d,v]=n.useState("name"),w=async()=>{c(!0);try{const o=await oe.get("/customers");a(o.data.data)}catch(o){console.error("Failed to load customers:",o)}finally{c(!1)}};n.useEffect(()=>{w()},[]);const y=o=>{switch(o){case"vip":return"bg-purple-100 text-purple-800";case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},M=o=>{switch(o){case"vip":return e.jsx(mt,{className:"h-4 w-4 text-purple-500"});case"active":return e.jsx(ye,{className:"h-4 w-4 text-green-500"});case"inactive":return e.jsx(we,{className:"h-4 w-4 text-gray-500"});default:return e.jsx(we,{className:"h-4 w-4 text-gray-500"})}},j=r.filter(o=>{const N=o.name.toLowerCase().includes(i.toLowerCase())||o.email.toLowerCase().includes(i.toLowerCase())||o.phone.includes(i),P=x==="all"||o.status===x;return N&&P}).sort((o,N)=>{switch(d){case"name":return o.name.localeCompare(N.name);case"totalSpent":return N.totalSpent-o.totalSpent;case"lastOrder":return new Date(N.lastOrder).getTime()-new Date(o.lastOrder).getTime();case"totalOrders":return N.totalOrders-o.totalOrders;default:return 0}}),l={total:r.length,active:r.filter(o=>o.status==="active").length,vip:r.filter(o=>o.status==="vip").length,inactive:r.filter(o=>o.status==="inactive").length,totalRevenue:r.reduce((o,N)=>o+N.totalSpent,0),averageOrderValue:r.reduce((o,N)=>o+N.averageOrderValue,0)/r.length};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Customer Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your customer relationships and insights"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.total})]}),e.jsx(we,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.active})]}),e.jsx(ye,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"VIP"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:l.vip})]}),e.jsx(mt,{className:"h-8 w-8 text-purple-500"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["£",l.totalRevenue.toFixed(2)]})]}),e.jsx(lt,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["£",l.averageOrderValue.toFixed(2)]})]}),e.jsx(Pa,{className:"h-8 w-8 text-orange-500"})]})})})]}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search customers...",value:i,onChange:o=>f(o.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:x,onChange:o=>m(o.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"vip",children:"VIP"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsxs("select",{value:d,onChange:o=>v(o.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"totalSpent",children:"Sort by Total Spent"}),e.jsx("option",{value:"lastOrder",children:"Sort by Last Order"}),e.jsx("option",{value:"totalOrders",children:"Sort by Order Count"})]})]})]})})}),s?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:Array.from({length:6}).map((o,N)=>e.jsx(qs,{},N))}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:j.map(o=>e.jsx(C,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(I,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Customer since ",new Date(o.joinDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[M(o.status),e.jsx(ae,{className:y(o.status),children:o.status.toUpperCase()})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(xt,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:o.email})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:o.phone})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(St,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"truncate",children:o.address})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.totalOrders}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Orders"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["£",o.totalSpent.toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Spent"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Order:"}),e.jsx("span",{className:"font-medium",children:new Date(o.lastOrder).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Avg Order Value:"}),e.jsxs("span",{className:"font-medium",children:["£",o.averageOrderValue.toFixed(2)]})]})]}),o.favoriteItems&&o.favoriteItems.length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Favorite Items:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.favoriteItems.slice(0,3).map((N,P)=>e.jsx(ae,{variant:"outline",className:"text-xs",children:typeof N=="string"?N:`${N.name} (${N.count}x)`},P)),o.favoriteItems.length>3&&e.jsxs(ae,{variant:"outline",className:"text-xs",children:["+",o.favoriteItems.length-3," more"]})]})]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsx(b,{size:"sm",variant:"outline",className:"flex-1",asChild:!0,children:e.jsxs("a",{href:`mailto:${o.email}`,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(xt,{className:"h-4 w-4 mr-1"}),"Email"]})}),e.jsx(b,{size:"sm",variant:"outline",className:"flex-1",asChild:!0,children:e.jsxs("a",{href:`tel:${o.phone}`,children:[e.jsx(Qe,{className:"h-4 w-4 mr-1"}),"Call"]})})]})]})},o.email))}),j.length===0&&e.jsx(C,{children:e.jsx(I,{className:"p-8 text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})})]})]})},Ar=()=>{const[r,a]=n.useState("30d"),[s,c]=n.useState(null),[i,f]=n.useState(!0);n.useEffect(()=>{x()},[r]);const x=async()=>{f(!0);try{const j=await oe.get(`/analytics?timeRange=${r}`);c(j.data.data)}catch(j){console.error("Failed to load analytics:",j)}finally{f(!1)}};if(i||!s)return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics & Reports"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track performance and business insights"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((j,l)=>e.jsx(Ws,{},l))}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Array.from({length:2}).map((j,l)=>e.jsx(pt,{},l))}),e.jsx(pt,{})]});const{metrics:m,topItems:d,hourlyData:v}=s,w=m.revenue,y=m.orders,M=j=>{switch(j){case"7d":return"Last 7 days";case"30d":return"Last 30 days";case"90d":return"Last 90 days";case"1y":return"Last year";default:return"Last 30 days"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics & Reports"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track performance and business insights"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(b,{variant:"outline",size:"sm",children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Export Report"]})})]}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Time Range:"})]}),e.jsx("div",{className:"flex space-x-1",children:["7d","30d","90d","1y"].map(j=>e.jsx(b,{variant:r===j?"default":"outline",size:"sm",onClick:()=>a(j),children:j.toUpperCase()},j))})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(C,{children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["£",w.current.toLocaleString()]}),e.jsxs("div",{className:"flex items-center mt-1",children:[w.change>0?e.jsx(ye,{className:"h-4 w-4 text-green-500 mr-1"}):e.jsx(Ae,{className:"h-4 w-4 text-red-500 mr-1"}),e.jsxs("span",{className:`text-sm font-medium ${w.change>0?"text-green-600":"text-red-600"}`,children:[w.change>0?"+":"",w.change,"%"]}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs previous"})]})]}),e.jsx(lt,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:y.current.toLocaleString()}),e.jsxs("div",{className:"flex items-center mt-1",children:[y.change>0?e.jsx(ye,{className:"h-4 w-4 text-green-500 mr-1"}):e.jsx(Ae,{className:"h-4 w-4 text-red-500 mr-1"}),e.jsxs("span",{className:`text-sm font-medium ${y.change>0?"text-green-600":"text-red-600"}`,children:[y.change>0?"+":"",y.change,"%"]}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs previous"})]})]}),e.jsx(Fe,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["£",m.avgOrderValue.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"per order"})]}),e.jsx(_e,{className:"h-8 w-8 text-purple-500"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Customers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m.customers.total}),e.jsxs("div",{className:"flex items-center mt-1",children:[m.customers.change>0?e.jsx(ye,{className:"h-4 w-4 text-green-500 mr-1"}):e.jsx(Ae,{className:"h-4 w-4 text-red-500 mr-1"}),e.jsxs("span",{className:`text-sm font-medium ${m.customers.change>0?"text-green-600":"text-red-600"}`,children:[m.customers.change>0?"+":"",m.customers.change,"%"]}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"this month"})]})]}),e.jsx(we,{className:"h-8 w-8 text-orange-500"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(C,{children:e.jsxs(I,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performing Items"}),e.jsx(ae,{variant:"outline",children:M(r)})]}),e.jsx("div",{className:"space-y-3",children:d.map((j,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-primary",children:l+1})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:j.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[j.orders," orders"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["£",j.revenue.toFixed(2)]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ye,{className:"h-3 w-3 text-green-500 mr-1"}),e.jsxs("span",{className:"text-xs text-green-600",children:["+",j.growth,"%"]})]})]})]},l))})]})}),e.jsx(C,{children:e.jsxs(I,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Peak Hours"}),e.jsx(ae,{variant:"outline",children:"Today"})]}),e.jsx("div",{className:"space-y-2",children:v.map((j,l)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 w-12",children:j.hour}),e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${j.orders/52*100}%`}})})]}),e.jsxs("div",{className:"text-right ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:j.orders}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["£",j.revenue.toFixed(2)]})]})]},l))})]})})]}),e.jsx(C,{children:e.jsxs(I,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Revenue Trend"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{variant:"outline",children:"Daily"}),e.jsx(ae,{variant:"outline",children:"Weekly"}),e.jsx(ae,{variant:"outline",children:"Monthly"})]})]}),e.jsx("div",{className:"h-64 bg-gray-50 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_e,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Chart visualization would go here"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Integration with charting library needed"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:y.current}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Orders (",r.toUpperCase(),")"]}),e.jsxs("div",{className:"flex items-center justify-center mt-1",children:[y.change>0?e.jsx(ye,{className:"h-4 w-4 text-green-500 mr-1"}):e.jsx(Ae,{className:"h-4 w-4 text-red-500 mr-1"}),e.jsxs("span",{className:`text-sm ${y.change>0?"text-green-600":"text-red-600"}`,children:[y.change>0?"+":"",y.change,"%"]})]})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["£",w.current.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Revenue (",r.toUpperCase(),")"]}),e.jsxs("div",{className:"flex items-center justify-center mt-1",children:[w.change>0?e.jsx(ye,{className:"h-4 w-4 text-green-500 mr-1"}):e.jsx(Ae,{className:"h-4 w-4 text-red-500 mr-1"}),e.jsxs("span",{className:`text-sm ${w.change>0?"text-green-600":"text-red-600"}`,children:[w.change>0?"+":"",w.change,"%"]})]})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d.length}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Top Menu Items"}),e.jsxs("div",{className:"flex items-center justify-center mt-1",children:[e.jsx(_e,{className:"h-4 w-4 text-blue-500 mr-1"}),e.jsx("span",{className:"text-sm text-blue-600",children:"Active"})]})]})})})]})]})},Er=()=>{const[r,a]=n.useState("business"),[s,c]=n.useState(null),[i,f]=n.useState(!0),[x,m]=n.useState(!1);n.useEffect(()=>{d()},[]);const d=async()=>{f(!0);try{const l=await oe.get("/settings");c(l.data.data)}catch(l){console.error("Failed to load settings:",l),he.error("Failed to load settings")}finally{f(!1)}},v=async()=>{if(s){m(!0);try{const l=await oe.put("/settings",s);c(l.data.data),he.success("Settings saved successfully")}catch(l){console.error("Failed to save settings:",l),he.error("Failed to save settings")}finally{m(!1)}}},w=async()=>{if(confirm("Are you sure you want to reset all settings to defaults? This cannot be undone.")){m(!0);try{const l=await oe.post("/settings/reset");c(l.data.data),he.success("Settings reset to defaults")}catch(l){console.error("Failed to reset settings:",l),he.error("Failed to reset settings")}finally{m(!1)}}},y=(l,o)=>{s&&c({...s,[l]:o})},M=(l,o,N)=>{if(!s)return;const P=[...s.businessHours];P[l]={...P[l],[o]:N},c({...s,businessHours:P})};if(i||!s)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const j=[{id:"business",label:"Business Info",icon:Gs},{id:"hours",label:"Business Hours",icon:ze},{id:"payment",label:"Tax & Payment",icon:lt},{id:"notifications",label:"Notifications",icon:ea},{id:"features",label:"Features",icon:La},{id:"social",label:"Social Media",icon:Ta}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your food court configuration"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(b,{variant:"outline",onClick:w,disabled:x,children:[e.jsx(Na,{className:"h-4 w-4 mr-2"}),"Reset to Defaults"]}),e.jsxs(b,{onClick:v,disabled:x,children:[x?e.jsx(zs,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(wa,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]}),e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(l=>{const o=l.icon;return e.jsxs(b,{variant:r===l.id?"default":"outline",size:"sm",onClick:()=>a(l.id),children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),l.label]},l.id)})})})}),r==="business"&&e.jsx(C,{children:e.jsxs(I,{className:"p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Business Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Business Name"}),e.jsx(L,{value:s.businessName,onChange:l=>y("businessName",l.target.value),placeholder:"Business Name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Email"}),e.jsx(L,{type:"email",value:s.email,onChange:l=>y("email",l.target.value),placeholder:"info@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Phone"}),e.jsx(L,{value:s.phone,onChange:l=>y("phone",l.target.value),placeholder:"+44 20 1234 5678"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Address"}),e.jsx(L,{value:s.address,onChange:l=>y("address",l.target.value),placeholder:"Street Address"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Description"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",rows:3,value:s.description,onChange:l=>y("description",l.target.value),placeholder:"Brief description of your business"})]})]})}),r==="hours"&&e.jsx(C,{children:e.jsxs(I,{className:"p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Business Hours"}),e.jsx("div",{className:"space-y-3",children:s.businessHours.map((l,o)=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"w-32",children:e.jsx("span",{className:"font-medium",children:l.day})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:l.isOpen,onChange:N=>M(o,"isOpen",N.target.checked),className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Open"})]}),l.isOpen&&e.jsxs(e.Fragment,{children:[e.jsx(L,{type:"time",value:l.open,onChange:N=>M(o,"open",N.target.value),className:"w-32"}),e.jsx("span",{className:"text-sm",children:"to"}),e.jsx(L,{type:"time",value:l.close,onChange:N=>M(o,"close",N.target.value),className:"w-32"})]}),!l.isOpen&&e.jsx(ae,{variant:"outline",className:"ml-auto",children:"Closed"})]},l.day))})]})}),r==="payment"&&e.jsx(C,{children:e.jsxs(I,{className:"p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Tax & Payment Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Tax Rate (%)"}),e.jsx(L,{type:"number",min:"0",max:"100",step:"0.1",value:s.taxRate,onChange:l=>y("taxRate",parseFloat(l.target.value))}),e.jsx("p",{className:"text-xs text-gray-500",children:"VAT/Sales tax percentage"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Currency"}),e.jsxs("select",{value:s.currency,onChange:l=>y("currency",l.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"GBP",children:"GBP (£)"}),e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR (€)"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Payment Methods"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.acceptCash,onChange:l=>y("acceptCash",l.target.checked),className:"h-4 w-4"}),e.jsx("span",{children:"Accept Cash"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.acceptCard,onChange:l=>y("acceptCard",l.target.checked),className:"h-4 w-4"}),e.jsx("span",{children:"Accept Card"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.acceptOnlinePayment,onChange:l=>y("acceptOnlinePayment",l.target.checked),className:"h-4 w-4"}),e.jsx("span",{children:"Accept Online Payment"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Minimum Order Amount (£)"}),e.jsx(L,{type:"number",min:"0",step:"0.01",value:s.minimumOrderAmount,onChange:l=>y("minimumOrderAmount",parseFloat(l.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Estimated Prep Time (minutes)"}),e.jsx(L,{type:"number",min:"0",value:s.estimatedPrepTime,onChange:l=>y("estimatedPrepTime",parseInt(l.target.value))})]})]})]})}),r==="notifications"&&e.jsx(C,{children:e.jsxs(I,{className:"p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Notification Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.emailNotifications,onChange:l=>y("emailNotifications",l.target.checked),className:"h-4 w-4"}),e.jsx("span",{children:"Enable Email Notifications"})]}),s.emailNotifications&&e.jsxs("div",{className:"ml-6 space-y-2",children:[e.jsx(F,{children:"Order Notification Email"}),e.jsx(L,{type:"email",value:s.orderNotificationEmail,onChange:l=>y("orderNotificationEmail",l.target.value),placeholder:"orders@example.com"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.lowStockNotifications,onChange:l=>y("lowStockNotifications",l.target.checked),className:"h-4 w-4"}),e.jsx("span",{children:"Enable Low Stock Notifications"})]}),s.lowStockNotifications&&e.jsxs("div",{className:"ml-6 space-y-2",children:[e.jsx(F,{children:"Low Stock Threshold"}),e.jsx(L,{type:"number",min:"0",value:s.lowStockThreshold,onChange:l=>y("lowStockThreshold",parseInt(l.target.value))}),e.jsx("p",{className:"text-xs text-gray-500",children:"Alert when stock falls below this level"})]})]})]})]})}),r==="features"&&e.jsx(C,{children:e.jsxs(I,{className:"p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Feature Toggles"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Online Ordering"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Allow customers to place orders online"})]}),e.jsx("input",{type:"checkbox",checked:s.enableOnlineOrdering,onChange:l=>y("enableOnlineOrdering",l.target.checked),className:"h-4 w-4"})]}),e.jsxs("label",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Inventory Tracking"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Track stock levels for menu items"})]}),e.jsx("input",{type:"checkbox",checked:s.enableInventoryTracking,onChange:l=>y("enableInventoryTracking",l.target.checked),className:"h-4 w-4"})]}),e.jsxs("label",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Loyalty Program"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Reward customers for repeat orders"})]}),e.jsx("input",{type:"checkbox",checked:s.enableLoyaltyProgram,onChange:l=>y("enableLoyaltyProgram",l.target.checked),className:"h-4 w-4"})]}),e.jsxs("label",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Customer Reviews"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Allow customers to leave reviews"})]}),e.jsx("input",{type:"checkbox",checked:s.enableCustomerReviews,onChange:l=>y("enableCustomerReviews",l.target.checked),className:"h-4 w-4"})]})]})]})}),r==="social"&&e.jsx(C,{children:e.jsxs(I,{className:"p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Social Media Links"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Facebook URL"}),e.jsx(L,{type:"url",value:s.facebookUrl||"",onChange:l=>y("facebookUrl",l.target.value),placeholder:"https://facebook.com/yourpage"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Instagram URL"}),e.jsx(L,{type:"url",value:s.instagramUrl||"",onChange:l=>y("instagramUrl",l.target.value),placeholder:"https://instagram.com/yourpage"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Twitter URL"}),e.jsx(L,{type:"url",value:s.twitterUrl||"",onChange:l=>y("twitterUrl",l.target.value),placeholder:"https://twitter.com/yourpage"})]})]})]})})]})},_r=()=>{const[r,a]=n.useState(""),[s,c]=n.useState("All"),[i,f]=n.useState([]),[x,m]=n.useState([]),[d,v]=n.useState({name:"",phone:"",email:"",address:""}),[w,y]=n.useState("pickup"),[M,j]=n.useState("cash"),[l,o]=n.useState(""),[N,P]=n.useState(!1),[T,k]=n.useState(!0),{addItem:V,clearCart:B}=Vs();n.useEffect(()=>{const p=async()=>{k(!0);try{const u=(await re.getAll()).filter(A=>A.inStock);f(u)}catch(g){console.error("Error loading menu items:",g),f([])}finally{k(!1)}};p();const t=re.subscribe(p);return()=>t()},[]);const J=["All",...new Set(i.map(p=>p.category))],U=i.filter(p=>{const t=p.name.toLowerCase().includes(r.toLowerCase())||p.description.toLowerCase().includes(r.toLowerCase()),g=s==="All"||p.category===s;return t&&g}),W=p=>{const t=x.find(g=>g.id===p.id);m(t?g=>g.map(u=>u.id===p.id?{...u,quantity:u.quantity+1}:u):g=>[...g,{id:p.id,name:p.name,price:p.price,quantity:1,notes:""}]),he.success(`${p.name} added to order`)},R=(p,t)=>{t<=0?m(g=>g.filter(u=>u.id!==p)):m(g=>g.map(u=>u.id===p?{...u,quantity:t}:u))},q=(p,t)=>{m(g=>g.map(u=>u.id===p?{...u,notes:t}:u))},Y=()=>x.reduce((p,t)=>p+t.price*t.quantity,0),X=()=>w==="delivery"?2.5:0,ee=()=>1.5,Z=()=>Y()+X()+ee(),te=async()=>{if(x.length===0){he.error("Please add items to the order");return}if(!d.name||!d.phone){he.error("Please fill in customer name and phone number");return}P(!0);try{const p={items:x.map(u=>({name:u.name,price:u.price,quantity:u.quantity,brand:i.find(A=>(A._id||A.id)===u.id)?.restaurant||"Unknown"})),total:Z(),orderType:w,customerInfo:{name:d.name,phone:d.phone,email:d.email||"",address:w==="delivery"?d.address:"",paymentMethod:M},specialInstructions:l||void 0},t=await De.addOrder(p);if(!t)throw new Error("Failed to create order");const g=t._id||t.id||"N/A";he.success(`Order #${g.slice(-8)} created successfully!`),m([]),v({name:"",phone:"",email:"",address:""}),o("")}catch(p){he.error("Failed to create order"),console.error("Order creation error:",p)}finally{P(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"In-House Order Taking"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Take orders directly from customers"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(ae,{variant:"outline",children:[x.length," items"]}),e.jsxs(ae,{variant:"outline",children:["£",Y().toFixed(2)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx(C,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(L,{placeholder:"Search menu items...",value:r,onChange:p=>a(p.target.value),className:"pl-10"})]})}),e.jsxs(Se,{value:s,onValueChange:c,children:[e.jsx(fe,{className:"w-[180px]",children:e.jsx(Ce,{placeholder:"Category"})}),e.jsx(je,{children:J.map(p=>e.jsx(Q,{value:p,children:p},p))})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:T?e.jsx(Ks,{}):U.map((p,t)=>e.jsx(C,{className:"hover:shadow-md transition-shadow",children:e.jsxs(I,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:p.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.category}),p.description&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:p.description})]}),e.jsxs("div",{className:"text-right ml-2",children:[e.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:["£",p.price.toFixed(2)]}),p.veg&&e.jsx(ae,{variant:"outline",className:"text-green-600 border-green-600 text-xs",children:"VEG"})]})]}),e.jsxs(b,{onClick:()=>W(p),size:"sm",className:"w-full",children:[e.jsx(ke,{className:"h-4 w-4 mr-1"}),"Add to Order"]})]})},p.id||p._id||`menu-item-${t}`))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(C,{children:e.jsxs(I,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(F,{htmlFor:"customerName",children:"Name *"}),e.jsx(L,{id:"customerName",value:d.name,onChange:p=>v(t=>({...t,name:p.target.value})),placeholder:"Customer name"})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"customerPhone",children:"Phone *"}),e.jsx(L,{id:"customerPhone",value:d.phone,onChange:p=>v(t=>({...t,phone:p.target.value})),placeholder:"Phone number"})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"customerEmail",children:"Email"}),e.jsx(L,{id:"customerEmail",type:"email",value:d.email,onChange:p=>v(t=>({...t,email:p.target.value})),placeholder:"Email address"})]}),w==="delivery"&&e.jsxs("div",{children:[e.jsx(F,{htmlFor:"customerAddress",children:"Address *"}),e.jsx(Oe,{id:"customerAddress",value:d.address,onChange:p=>v(t=>({...t,address:p.target.value})),placeholder:"Delivery address",rows:2})]})]})]})}),e.jsx(C,{children:e.jsxs(I,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Order Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(F,{children:"Order Type"}),e.jsxs("div",{className:"flex space-x-2 mt-1",children:[e.jsx(b,{variant:w==="pickup"?"default":"outline",size:"sm",onClick:()=>y("pickup"),className:"flex-1",children:"Pickup"}),e.jsx(b,{variant:w==="delivery"?"default":"outline",size:"sm",onClick:()=>y("delivery"),className:"flex-1",children:"Delivery"})]})]}),e.jsxs("div",{children:[e.jsx(F,{children:"Payment Method"}),e.jsxs(Se,{value:M,onValueChange:p=>j(p),children:[e.jsx(fe,{children:e.jsx(Ce,{})}),e.jsxs(je,{children:[e.jsx(Q,{value:"cash",children:"Cash"}),e.jsx(Q,{value:"card",children:"Card"}),e.jsx(Q,{value:"online",children:"Online"})]})]})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"specialInstructions",children:"Special Instructions"}),e.jsx(Oe,{id:"specialInstructions",value:l,onChange:p=>o(p.target.value),placeholder:"Any special requests...",rows:2})]})]})]})}),e.jsx(C,{children:e.jsxs(I,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Order Items"}),x.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No items in order"}):e.jsx("div",{className:"space-y-3",children:x.map((p,t)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:p.name}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["£",p.price.toFixed(2)," each"]}),e.jsx(L,{placeholder:"Notes...",value:p.notes||"",onChange:g=>q(p.id,g.target.value),className:"mt-1 h-6 text-xs"})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[e.jsx(b,{size:"sm",variant:"outline",onClick:()=>R(p.id,p.quantity-1),className:"h-6 w-6 p-0",children:e.jsx(Je,{className:"h-3 w-3"})}),e.jsx("span",{className:"text-sm font-medium w-6 text-center",children:p.quantity}),e.jsx(b,{size:"sm",variant:"outline",onClick:()=>R(p.id,p.quantity+1),className:"h-6 w-6 p-0",children:e.jsx(ke,{className:"h-3 w-3"})}),e.jsx(b,{size:"sm",variant:"ghost",onClick:()=>R(p.id,0),className:"h-6 w-6 p-0 text-red-500",children:e.jsx(Me,{className:"h-3 w-3"})})]})]},p.id||`order-item-${t}`))})]})}),e.jsx(C,{children:e.jsxs(I,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Order Total"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:["Subtotal (",x.reduce((p,t)=>p+t.quantity,0)," items)"]}),e.jsxs("span",{children:["£",Y().toFixed(2)]})]}),X()>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsxs("span",{children:["£",X().toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Service Fee"}),e.jsxs("span",{children:["£",ee().toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-2",children:e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["£",Z().toFixed(2)]})]})})]}),e.jsx(b,{onClick:te,disabled:N||x.length===0,className:"w-full mt-4",size:"lg",children:N?e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Create Order"]})})]})})]})]})]})},Mr=()=>{const[r,a]=n.useState("dashboard"),[s,c]=n.useState(null);n.useEffect(()=>{(async()=>{const m=await De.getStats();c(m)})();const x=De.subscribe(m=>{c(m)});return()=>{x()}},[]);const i=()=>{switch(r){case"dashboard":return e.jsx(ft,{adminStats:s});case"orders":return e.jsx(vr,{});case"menu":return e.jsx(Nr,{});case"inventory":return e.jsx(Or,{});case"customers":return e.jsx(Pr,{});case"analytics":return e.jsx(Ar,{});case"order-taking":return e.jsx(_r,{});case"settings":return e.jsx(Er,{});default:return e.jsx(ft,{adminStats:s})}};return e.jsx($a,{currentPage:r,onPageChange:a,children:i()})},qr=()=>e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx(Mr,{})});export{qr as default};
