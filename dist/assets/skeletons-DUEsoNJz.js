import{c as x,e as j,C as l,a as h,g as u}from"./index-ppAren82.js";import{a as n}from"./api-DsUKC986.js";import{j as s}from"./ui-RojGIA-k.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],v=x("store",N);class w{listeners=[];cachedItems=null;async fetchAll(a,t){try{const r={};a&&(r.restaurant=a),t&&(r.category=t);const o=(await n.get("/menu-items",{params:r})).data.data.map(m=>({...m,id:m._id}));return this.cachedItems=o,o}catch(r){return console.error("Error fetching menu items:",r),[]}}async getAll(){return this.fetchAll()}async getByRestaurant(a){return this.fetchAll(a)}async getById(a){try{const r=(await n.get(`/menu-items/${a}`)).data.data;return{...r,id:r._id}}catch(t){return console.error("Error fetching menu item:",t),null}}async add(a){try{const r=(await n.post("/menu-items",a)).data.data,c={...r,id:r._id};return this.cachedItems&&this.cachedItems.unshift(c),this.notify(),c}catch(t){throw console.error("Error adding menu item:",t),t}}async update(a,t){try{const c=(await n.put(`/menu-items/${a}`,t)).data.data,o={...c,id:c._id};if(this.cachedItems){const m=this.cachedItems.findIndex(d=>(d.id||d._id)===a);m!==-1&&(this.cachedItems[m]=o)}return this.notify(),o}catch(r){return console.error("Error updating menu item:",r),null}}async remove(a){try{return await n.delete(`/menu-items/${a}`),this.cachedItems&&(this.cachedItems=this.cachedItems.filter(t=>(t.id||t._id)!==a)),this.notify(),!0}catch(t){return console.error("Error removing menu item:",t),!1}}async setStock(a,t){try{if(await n.patch(`/menu-items/${a}/stock`),this.cachedItems){const r=this.cachedItems.findIndex(c=>(c.id||c._id)===a);r!==-1&&(this.cachedItems[r].inStock=t)}return this.notify(),!0}catch(r){return console.error("Error toggling stock:",r),!1}}async search(a){const t=await this.getAll(),r=a.toLowerCase();return t.filter(c=>c.name.toLowerCase().includes(r)||c.description.toLowerCase().includes(r)||c.category.toLowerCase().includes(r))}async getCategories(a){if(a)try{return(await n.get(`/menu-items/categories/${a}`)).data.data}catch(c){return console.error("Error fetching categories:",c),[]}const t=await this.getAll(),r=new Set(t.map(c=>c.category));return Array.from(r).sort()}async getStats(){const a=await this.fetchAll();return{total:a.length,inStock:a.filter(t=>t.inStock).length,outOfStock:a.filter(t=>!t.inStock).length,byRestaurant:{OhSmash:a.filter(t=>t.restaurant==="OhSmash").length,"Wonder Wings":a.filter(t=>t.restaurant==="Wonder Wings").length,"Okra Green":a.filter(t=>t.restaurant==="Okra Green").length},byCategory:a.reduce((t,r)=>(t[r.category]=(t[r.category]||0)+1,t),{})}}subscribe(a){return this.listeners.push(a),()=>{this.listeners=this.listeners.filter(t=>t!==a)}}notify(){this.listeners.forEach(a=>{try{a()}catch{}})}}const b=new w;function e({className:i,...a}){return s.jsx("div",{className:j("animate-pulse rounded-md bg-muted",i),...a})}const I=()=>s.jsx(l,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx(e,{className:"h-4 w-24"}),s.jsx(e,{className:"h-4 w-16"})]}),s.jsx(e,{className:"h-3 w-32"}),s.jsx(e,{className:"h-3 w-28"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(e,{className:"h-6 w-16"}),s.jsx(e,{className:"h-6 w-20"})]})]})}),f=()=>s.jsx(l,{className:"hover:shadow-md transition-shadow",children:s.jsxs(h,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(e,{className:"h-5 w-32 mb-1"}),s.jsx(e,{className:"h-3 w-20"})]}),s.jsx(e,{className:"h-4 w-12"})]}),s.jsx(e,{className:"h-3 w-full mb-2"}),s.jsx(e,{className:"h-3 w-3/4 mb-3"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(e,{className:"h-6 w-16"}),s.jsx(e,{className:"h-8 w-20"})]})]})}),S=()=>s.jsx(l,{className:"hover:shadow-lg transition-shadow",children:s.jsxs(h,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(e,{className:"h-10 w-10 rounded"}),s.jsxs("div",{children:[s.jsx(e,{className:"h-4 w-24 mb-1"}),s.jsx(e,{className:"h-3 w-16"})]})]}),s.jsx(e,{className:"h-6 w-16"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx(e,{className:"h-3 w-20"}),s.jsx(e,{className:"h-3 w-12"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(e,{className:"h-3 w-16"}),s.jsx(e,{className:"h-3 w-10"})]})]})]})}),k=()=>s.jsx(l,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(e,{className:"h-8 w-8 rounded-full"}),s.jsxs("div",{children:[s.jsx(e,{className:"h-4 w-24 mb-1"}),s.jsx(e,{className:"h-3 w-32"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(e,{className:"h-3 w-full"}),s.jsx(e,{className:"h-3 w-3/4"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(e,{className:"h-6 w-16"}),s.jsx(e,{className:"h-6 w-20"})]})]})}),C=()=>s.jsxs(l,{children:[s.jsxs(u,{children:[s.jsx(e,{className:"h-6 w-32"}),s.jsx(e,{className:"h-4 w-48"})]}),s.jsx(h,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(e,{className:"h-4 w-full"}),s.jsx(e,{className:"h-4 w-5/6"}),s.jsx(e,{className:"h-4 w-4/6"}),s.jsx(e,{className:"h-4 w-3/6"}),s.jsx(e,{className:"h-4 w-2/6"})]})})]}),A=()=>s.jsx(l,{children:s.jsx(h,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(e,{className:"h-4 w-20 mb-2"}),s.jsx(e,{className:"h-8 w-16"})]}),s.jsx(e,{className:"h-8 w-8 rounded"})]})})}),_=()=>s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Array.from({length:6}).map((i,a)=>s.jsx(f,{},a))}),E=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex space-x-2 mb-6",children:Array.from({length:4}).map((i,a)=>s.jsx(e,{className:"h-10 w-24"},a))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:9}).map((i,a)=>s.jsx(l,{className:"border border-gray-200",children:s.jsx(h,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(e,{className:"h-4 w-3/4"}),s.jsx(e,{className:"h-3 w-1/2"}),s.jsx(e,{className:"h-3 w-full"}),s.jsx(e,{className:"h-3 w-2/3"}),s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsx(e,{className:"h-5 w-16"}),s.jsx(e,{className:"h-8 w-20"})]})]})})},a))})]});export{C as A,k as C,E as F,S as I,f as M,I as O,v as S,A as a,_ as b,b as m};
