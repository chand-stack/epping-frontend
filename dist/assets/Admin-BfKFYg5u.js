import{r as l,j as e,n as jt,q as js,b as ct,s as Ss,c as St,t as rt,a as Ns,u as ne,i as me,P as Z,A as bs,e as Q,h as ws,g as Nt,f as ks,v as Cs,w as Is,x as Os,y as Ts,F as Ds,D as Ms,C as Ps,p as Es}from"./ui-DvNP05M7.js";import{c as F,j as As,u as _s,e as se,B as w,X as Pe,f as Ee,U as ye,k as Rs,b as at,C as D,a as M,l as Fs,V as Ls,P as Ge,M as bt,S as ot,d as dt,t as te,g as Bs}from"./index-VxDcpnsG.js";import{U as Ke,L as B,I as X,E as mt,a as ut}from"./Label-B-idLpSQ.js";import{U as Qe}from"./utensils-CvM5MuRD.js";import{o as ie,T as Ye}from"./orderManagement-DsclU38I.js";import{m as W}from"./menuService-DzRK7b57.js";import{P as ve,M as Je}from"./plus-Bw_GmxtA.js";import"./vendor-gH-7aFTg.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Vs=F("arrow-down-right",zs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],$s=F("arrow-up-right",Us);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Re=F("chart-column",qs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ws=F("check",Hs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wt=F("chevron-down",Gs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Qs=F("chevron-up",Ks);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kt=F("circle-check-big",Ys);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Xs=F("database",Js);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ct=F("dollar-sign",Zs);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],It=F("download",er);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],xt=F("file-down",tr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],rr=F("file-up",sr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ot=F("funnel",ar);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ir=F("grid-3x3",nr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],cr=F("layout-dashboard",lr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],dr=F("list",or);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ht=F("log-out",mr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],_e=F("package",ur);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],pt=F("printer",xr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pr=F("refresh-cw",hr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Be=F("search",gr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yr=F("settings",fr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],jr=F("shopping-bag",vr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Tt=F("square-pen",Sr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],We=F("trending-down",Nr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],le=F("trending-up",br);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ae=F("triangle-alert",wr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Dt=F("upload",kr),Cr=({children:a,currentPage:s,onPageChange:r})=>{const[o,i]=l.useState(!1),[u,n]=l.useState(!1),{user:d,logout:m}=As(),h=_s(),S=l.useRef(null),k=()=>{m(),h("/login",{replace:!0})};l.useEffect(()=>{const j=f=>{S.current&&!S.current.contains(f.target)&&n(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const p=[{id:"dashboard",label:"Dashboard",icon:cr},{id:"orders",label:"Orders",icon:Ee},{id:"order-taking",label:"Order Taking",icon:Ee},{id:"menu",label:"Menu",icon:Qe},{id:"inventory",label:"Inventory",icon:_e},{id:"customers",label:"Customers",icon:ye},{id:"analytics",label:"Analytics",icon:Re},{id:"settings",label:"Settings",icon:yr}];return e.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[o&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>i(!1)}),e.jsxs("aside",{className:se("fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-xl border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out lg:translate-x-0 flex flex-col",o?"translate-x-0":"-translate-x-full"),children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white truncate",children:"Epping Food Court"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(w,{variant:"ghost",size:"icon",className:"lg:hidden min-h-[44px] min-w-[44px]",onClick:()=>i(!1),children:e.jsx(Pe,{className:"h-5 w-5"})}),e.jsxs("div",{className:"lg:hidden relative",ref:S,children:[e.jsx(w,{variant:"ghost",size:"icon",className:"min-h-[44px] min-w-[44px]",onClick:()=>n(!u),children:e.jsx(Ke,{className:"w-5 h-5"})}),u&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg z-50 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"font-medium",children:d?.username}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:[d?.role," • ",d?.lastLogin?new Date(d.lastLogin).toLocaleDateString():"Never"]})]}),e.jsxs(w,{variant:"ghost",className:"w-full justify-start text-left text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>{n(!1),k()},children:[e.jsx(ht,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]})]})]}),e.jsx("nav",{className:"mt-4 px-2 sm:px-3 space-y-1 flex-1 overflow-y-auto",children:p.map(j=>{const f=j.icon;return e.jsxs(w,{variant:s===j.id?"default":"ghost",className:se("w-full justify-start mb-1 min-h-[44px] text-sm sm:text-base",s===j.id?"bg-primary text-primary-foreground":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),onClick:()=>{r(j.id),i(!1)},children:[e.jsx(f,{className:"mr-2 sm:mr-3 h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:j.label})]},j.id)})}),e.jsxs("div",{className:"hidden lg:block border-t border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Ke,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:d?.username}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:d?.role})]})]}),e.jsxs(w,{variant:"outline",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 border-red-200 dark:border-red-800",onClick:k,children:[e.jsx(ht,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]}),e.jsxs("div",{className:"lg:ml-64 min-h-screen relative",children:[e.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-30",children:e.jsx(w,{variant:"ghost",size:"icon",className:"min-h-[44px] min-w-[44px] bg-white shadow-md",onClick:()=>i(!0),children:e.jsx(Rs,{className:"h-5 w-5"})})}),e.jsx("main",{className:"pt-16 lg:pt-0 p-3 sm:p-4 lg:p-6 w-full",children:e.jsx("div",{className:"max-w-full",children:a})})]})]})},gt=({adminStats:a})=>{const s=[{title:"Orders Today",value:a?a.ordersToday.toString():"0",change:"+8.2%",changeType:"positive",icon:Ee,color:"text-blue-600"},{title:"Active Customers",value:a?a.activeCustomers.toString():"0",change:"+5.1%",changeType:"positive",icon:ye,color:"text-purple-600"},{title:"Menu Items",value:"150+",change:"+2.1%",changeType:"positive",icon:Qe,color:"text-green-600"},{title:"Low Stock Items",value:a?a.lowStockItems.toString():"0",change:"-15.3%",changeType:"positive",icon:at,color:"text-orange-600"}],r=a?.recentOrders.map(i=>({id:`#${i.id}`,customer:i.customerInfo.name,items:i.items.length,status:i.status,time:new Date(i.createdAt).toLocaleTimeString()}))||[],o=a?.topItems.map(i=>({name:i.name,orders:i.orders}))||[];return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/80 rounded-lg p-4 sm:p-6 text-white",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-2",children:"Welcome back, Admin!"}),e.jsx("p",{className:"opacity-90 text-sm sm:text-base",children:"Here's what's happening at Epping Food Court today."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:s.map((i,u)=>{const n=i.icon;return e.jsx(D,{className:"hover:shadow-lg transition-shadow",children:e.jsx(M,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:i.title}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:i.value}),e.jsxs("div",{className:"flex items-center mt-1 sm:mt-2",children:[i.changeType==="positive"?e.jsx($s,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 mr-1 flex-shrink-0"}):e.jsx(Vs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-500 mr-1 flex-shrink-0"}),e.jsx("span",{className:`text-xs sm:text-sm font-medium ${i.changeType==="positive"?"text-green-600":"text-red-600"}`,children:i.change}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1 hidden sm:inline",children:"vs last week"})]})]}),e.jsx("div",{className:`p-2 sm:p-3 rounded-full bg-gray-100 dark:bg-gray-700 ${i.color} flex-shrink-0`,children:e.jsx(n,{className:"h-4 w-4 sm:h-6 sm:w-6"})})]})})},u)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(D,{children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Orders"}),e.jsx(w,{variant:"outline",size:"sm",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:r.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:i.id}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.customer}),e.jsxs("p",{className:"text-xs text-gray-500",children:[i.items," items"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.time}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i.status==="delivered"?"bg-green-100 text-green-800":i.status==="ready"?"bg-blue-100 text-blue-800":i.status==="preparing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:i.status})]})]},i.id))})]})}),e.jsx(D,{children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Items"}),e.jsx(w,{variant:"outline",size:"sm",children:"View Menu"})]}),e.jsx("div",{className:"space-y-3",children:o.map((i,u)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-primary",children:u+1})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:i.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.orders," orders"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"text-sm text-gray-500",children:"Popular"})})]},u))})]})})]}),e.jsx(D,{children:e.jsxs(M,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(w,{className:"h-20 flex flex-col space-y-2",children:[e.jsx(Ee,{className:"h-6 w-6"}),e.jsx("span",{children:"New Order"})]}),e.jsxs(w,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[e.jsx(Qe,{className:"h-6 w-6"}),e.jsx("span",{children:"Add Menu Item"})]}),e.jsxs(w,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[e.jsx(ye,{className:"h-6 w-6"}),e.jsx("span",{children:"View Customers"})]}),e.jsxs(w,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[e.jsx(Re,{className:"h-6 w-6"}),e.jsx("span",{children:"View Analytics"})]})]})]})})]})},Ir=Fs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function J({className:a,variant:s,...r}){return e.jsx("div",{className:se(Ir({variant:s}),a),...r})}class Or{storageKey="eppingFoodCourtInventory";cache=null;isSaving=!1;pendingSave=!1;categories=[{id:"proteins",name:"Proteins",description:"Meat, poultry, fish, and plant proteins",color:"bg-red-100 text-red-800"},{id:"vegetables",name:"Vegetables",description:"Fresh and frozen vegetables",color:"bg-green-100 text-green-800"},{id:"dairy",name:"Dairy",description:"Milk, cheese, yogurt, and dairy products",color:"bg-blue-100 text-blue-800"},{id:"spices",name:"Spices & Herbs",description:"Spices, herbs, and seasonings",color:"bg-yellow-100 text-yellow-800"},{id:"grains",name:"Grains & Bread",description:"Rice, bread, naan, and grain products",color:"bg-orange-100 text-orange-800"},{id:"sauces",name:"Sauces & Condiments",description:"Sauces, oils, and condiments",color:"bg-purple-100 text-purple-800"},{id:"frozen",name:"Frozen Items",description:"Frozen ingredients and prepared items",color:"bg-gray-100 text-gray-800"},{id:"beverages",name:"Beverages",description:"Drinks and beverage ingredients",color:"bg-cyan-100 text-cyan-800"}];defaultInventory=[{id:"beef-patty",name:"Beef Patties",category:"proteins",currentStock:50,minStock:20,maxStock:100,unit:"pieces",supplier:"Local Butcher",lastUpdated:new Date().toISOString(),description:"Fresh beef patties for burgers",allergens:[]},{id:"chicken-wings",name:"Chicken Wings",category:"proteins",currentStock:30,minStock:15,maxStock:60,unit:"pounds",supplier:"Poultry Supplier",lastUpdated:new Date().toISOString(),description:"Fresh chicken wings",allergens:[]},{id:"chicken-breast",name:"Chicken Breast",category:"proteins",currentStock:25,minStock:10,maxStock:50,unit:"pounds",supplier:"Poultry Supplier",lastUpdated:new Date().toISOString(),description:"Boneless chicken breast",allergens:[]},{id:"lamb",name:"Lamb",category:"proteins",currentStock:20,minStock:8,maxStock:40,unit:"pounds",supplier:"Halal Meat Supplier",lastUpdated:new Date().toISOString(),description:"Fresh lamb for curries",allergens:[]},{id:"fish",name:"Fish",category:"proteins",currentStock:15,minStock:5,maxStock:30,unit:"pounds",supplier:"Seafood Supplier",lastUpdated:new Date().toISOString(),description:"Fresh fish fillets",allergens:["fish"]},{id:"lettuce",name:"Lettuce",category:"vegetables",currentStock:20,minStock:5,maxStock:40,unit:"heads",supplier:"Local Farm",lastUpdated:new Date().toISOString(),description:"Fresh iceberg lettuce",allergens:[]},{id:"tomatoes",name:"Tomatoes",category:"vegetables",currentStock:30,minStock:10,maxStock:60,unit:"pounds",supplier:"Local Farm",lastUpdated:new Date().toISOString(),description:"Fresh tomatoes",allergens:[]},{id:"onions",name:"Onions",category:"vegetables",currentStock:25,minStock:8,maxStock:50,unit:"pounds",supplier:"Local Farm",lastUpdated:new Date().toISOString(),description:"White and red onions",allergens:[]},{id:"potatoes",name:"Potatoes",category:"vegetables",currentStock:40,minStock:15,maxStock:80,unit:"pounds",supplier:"Local Farm",lastUpdated:new Date().toISOString(),description:"Russet potatoes",allergens:[]},{id:"bell-peppers",name:"Bell Peppers",category:"vegetables",currentStock:15,minStock:5,maxStock:30,unit:"pounds",supplier:"Local Farm",lastUpdated:new Date().toISOString(),description:"Mixed bell peppers",allergens:[]},{id:"spinach",name:"Spinach",category:"vegetables",currentStock:10,minStock:3,maxStock:20,unit:"pounds",supplier:"Local Farm",lastUpdated:new Date().toISOString(),description:"Fresh spinach leaves",allergens:[]},{id:"cheddar-cheese",name:"Cheddar Cheese",category:"dairy",currentStock:15,minStock:5,maxStock:30,unit:"pounds",supplier:"Dairy Supplier",lastUpdated:new Date().toISOString(),description:"Sharp cheddar cheese",allergens:["dairy"]},{id:"mozzarella",name:"Mozzarella",category:"dairy",currentStock:12,minStock:4,maxStock:25,unit:"pounds",supplier:"Dairy Supplier",lastUpdated:new Date().toISOString(),description:"Fresh mozzarella",allergens:["dairy"]},{id:"butter",name:"Butter",category:"dairy",currentStock:8,minStock:2,maxStock:15,unit:"pounds",supplier:"Dairy Supplier",lastUpdated:new Date().toISOString(),description:"Unsalted butter",allergens:["dairy"]},{id:"yogurt",name:"Yogurt",category:"dairy",currentStock:20,minStock:5,maxStock:40,unit:"containers",supplier:"Dairy Supplier",lastUpdated:new Date().toISOString(),description:"Plain Greek yogurt",allergens:["dairy"]},{id:"cream",name:"Heavy Cream",category:"dairy",currentStock:6,minStock:2,maxStock:12,unit:"quarts",supplier:"Dairy Supplier",lastUpdated:new Date().toISOString(),description:"Heavy whipping cream",allergens:["dairy"]},{id:"garam-masala",name:"Garam Masala",category:"spices",currentStock:2,minStock:.5,maxStock:5,unit:"pounds",supplier:"Spice Supplier",lastUpdated:new Date().toISOString(),description:"Indian spice blend",allergens:[]},{id:"cumin",name:"Cumin",category:"spices",currentStock:1.5,minStock:.3,maxStock:3,unit:"pounds",supplier:"Spice Supplier",lastUpdated:new Date().toISOString(),description:"Ground cumin",allergens:[]},{id:"coriander",name:"Coriander",category:"spices",currentStock:1,minStock:.2,maxStock:2,unit:"pounds",supplier:"Spice Supplier",lastUpdated:new Date().toISOString(),description:"Ground coriander",allergens:[]},{id:"turmeric",name:"Turmeric",category:"spices",currentStock:1,minStock:.2,maxStock:2,unit:"pounds",supplier:"Spice Supplier",lastUpdated:new Date().toISOString(),description:"Ground turmeric",allergens:[]},{id:"paprika",name:"Paprika",category:"spices",currentStock:.8,minStock:.2,maxStock:1.5,unit:"pounds",supplier:"Spice Supplier",lastUpdated:new Date().toISOString(),description:"Smoked paprika",allergens:[]},{id:"garlic-powder",name:"Garlic Powder",category:"spices",currentStock:1.2,minStock:.3,maxStock:2.5,unit:"pounds",supplier:"Spice Supplier",lastUpdated:new Date().toISOString(),description:"Garlic powder",allergens:[]},{id:"onion-powder",name:"Onion Powder",category:"spices",currentStock:1,minStock:.2,maxStock:2,unit:"pounds",supplier:"Spice Supplier",lastUpdated:new Date().toISOString(),description:"Onion powder",allergens:[]},{id:"black-pepper",name:"Black Pepper",category:"spices",currentStock:.5,minStock:.1,maxStock:1,unit:"pounds",supplier:"Spice Supplier",lastUpdated:new Date().toISOString(),description:"Ground black pepper",allergens:[]},{id:"salt",name:"Salt",category:"spices",currentStock:5,minStock:1,maxStock:10,unit:"pounds",supplier:"Bulk Supplier",lastUpdated:new Date().toISOString(),description:"Kosher salt",allergens:[]},{id:"burger-buns",name:"Burger Buns",category:"grains",currentStock:100,minStock:30,maxStock:200,unit:"pieces",supplier:"Bakery",lastUpdated:new Date().toISOString(),description:"Sesame seed buns",allergens:["gluten"]},{id:"naan-bread",name:"Naan Bread",category:"grains",currentStock:50,minStock:15,maxStock:100,unit:"pieces",supplier:"Indian Bakery",lastUpdated:new Date().toISOString(),description:"Fresh naan bread",allergens:["gluten"]},{id:"basmati-rice",name:"Basmati Rice",category:"grains",currentStock:25,minStock:8,maxStock:50,unit:"pounds",supplier:"Grain Supplier",lastUpdated:new Date().toISOString(),description:"Premium basmati rice",allergens:[]},{id:"flour",name:"All-Purpose Flour",category:"grains",currentStock:20,minStock:5,maxStock:40,unit:"pounds",supplier:"Bulk Supplier",lastUpdated:new Date().toISOString(),description:"All-purpose flour",allergens:["gluten"]},{id:"breadcrumbs",name:"Breadcrumbs",category:"grains",currentStock:5,minStock:1,maxStock:10,unit:"pounds",supplier:"Bulk Supplier",lastUpdated:new Date().toISOString(),description:"Panko breadcrumbs",allergens:["gluten"]},{id:"tomato-sauce",name:"Tomato Sauce",category:"sauces",currentStock:12,minStock:3,maxStock:24,unit:"cans",supplier:"Bulk Supplier",lastUpdated:new Date().toISOString(),description:"Crushed tomatoes",allergens:[]},{id:"hot-sauce",name:"Hot Sauce",category:"sauces",currentStock:8,minStock:2,maxStock:16,unit:"bottles",supplier:"Sauce Supplier",lastUpdated:new Date().toISOString(),description:"Buffalo hot sauce",allergens:[]},{id:"bbq-sauce",name:"BBQ Sauce",category:"sauces",currentStock:6,minStock:1,maxStock:12,unit:"bottles",supplier:"Sauce Supplier",lastUpdated:new Date().toISOString(),description:"Smoky BBQ sauce",allergens:[]},{id:"mayo",name:"Mayonnaise",category:"sauces",currentStock:4,minStock:1,maxStock:8,unit:"jars",supplier:"Bulk Supplier",lastUpdated:new Date().toISOString(),description:"Real mayonnaise",allergens:["eggs"]},{id:"ketchup",name:"Ketchup",category:"sauces",currentStock:6,minStock:1,maxStock:12,unit:"bottles",supplier:"Bulk Supplier",lastUpdated:new Date().toISOString(),description:"Tomato ketchup",allergens:[]},{id:"mustard",name:"Mustard",category:"sauces",currentStock:3,minStock:1,maxStock:6,unit:"bottles",supplier:"Bulk Supplier",lastUpdated:new Date().toISOString(),description:"Dijon mustard",allergens:[]},{id:"coconut-milk",name:"Coconut Milk",category:"sauces",currentStock:15,minStock:5,maxStock:30,unit:"cans",supplier:"Asian Supplier",lastUpdated:new Date().toISOString(),description:"Coconut milk for curries",allergens:[]},{id:"curry-paste",name:"Curry Paste",category:"sauces",currentStock:8,minStock:2,maxStock:16,unit:"jars",supplier:"Asian Supplier",lastUpdated:new Date().toISOString(),description:"Red curry paste",allergens:[]},{id:"frozen-fries",name:"Frozen Fries",category:"frozen",currentStock:20,minStock:5,maxStock:40,unit:"bags",supplier:"Frozen Supplier",lastUpdated:new Date().toISOString(),description:"Crispy frozen fries",allergens:[]},{id:"frozen-wings",name:"Frozen Wings",category:"frozen",currentStock:15,minStock:3,maxStock:30,unit:"bags",supplier:"Frozen Supplier",lastUpdated:new Date().toISOString(),description:"Pre-breaded wings",allergens:[]},{id:"ice-cream",name:"Ice Cream",category:"frozen",currentStock:10,minStock:2,maxStock:20,unit:"tubs",supplier:"Dairy Supplier",lastUpdated:new Date().toISOString(),description:"Vanilla ice cream",allergens:["dairy"]},{id:"coca-cola",name:"Coca Cola",category:"beverages",currentStock:50,minStock:10,maxStock:100,unit:"bottles",supplier:"Beverage Supplier",lastUpdated:new Date().toISOString(),description:"Coca Cola bottles",allergens:[]},{id:"sprite",name:"Sprite",category:"beverages",currentStock:30,minStock:5,maxStock:60,unit:"bottles",supplier:"Beverage Supplier",lastUpdated:new Date().toISOString(),description:"Sprite bottles",allergens:[]},{id:"water",name:"Bottled Water",category:"beverages",currentStock:100,minStock:20,maxStock:200,unit:"bottles",supplier:"Beverage Supplier",lastUpdated:new Date().toISOString(),description:"Still water",allergens:[]}];subscribers=[];constructor(){this.initializeInventory()}initializeInventory(){localStorage.getItem(this.storageKey)||localStorage.setItem(this.storageKey,JSON.stringify(this.defaultInventory))}load(){try{const s=localStorage.getItem(this.storageKey);return s?JSON.parse(s):[]}catch(s){return console.error("Failed to load inventory:",s),[]}}saveDebounced(){if(this.isSaving){this.pendingSave=!0;return}this.isSaving=!0;try{this.cache&&localStorage.setItem(this.storageKey,JSON.stringify(this.cache))}finally{this.isSaving=!1,this.pendingSave&&(this.pendingSave=!1,setTimeout(()=>this.saveDebounced(),0))}}getAllItems(){return this.cache||(this.cache=this.load()),this.cache}getCategories(){return this.categories}getItemById(s){return this.getAllItems().find(o=>o.id===s)||null}getItemsByCategory(s){return this.getAllItems().filter(o=>o.category===s)}getLowStockItems(){return this.getAllItems().filter(r=>r.currentStock<=r.minStock)}getLowStockItemsCount(){return this.getLowStockItems().length}updateStock(s,r){try{const o=this.getAllItems(),i=o.findIndex(u=>u.id===s);i!==-1&&(o[i].currentStock=Math.max(0,r),o[i].lastUpdated=new Date().toISOString(),this.cache=o,this.saveDebounced(),this.notifySubscribers())}catch(o){console.error("Failed to update stock:",o)}}addItem(s){try{const r=this.getAllItems(),o={...s,id:`item_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,lastUpdated:new Date().toISOString()};r.push(o),this.cache=r,this.saveDebounced(),this.notifySubscribers()}catch(r){console.error("Failed to add item:",r)}}updateItem(s,r){try{const o=this.getAllItems(),i=o.findIndex(u=>u.id===s);i!==-1&&(o[i]={...o[i],...r,lastUpdated:new Date().toISOString()},this.cache=o,this.saveDebounced(),this.notifySubscribers())}catch(o){console.error("Failed to update item:",o)}}deleteItem(s){try{const o=this.getAllItems().filter(i=>i.id!==s);this.cache=o,this.saveDebounced(),this.notifySubscribers()}catch(r){console.error("Failed to delete item:",r)}}getInventoryStats(){const s=this.getAllItems(),r=this.getLowStockItems(),o=s.length,i=s.reduce((u,n)=>u+n.currentStock*(n.costPerUnit||0),0);return{totalItems:o,lowStockCount:r.length,totalValue:i,categories:this.categories.map(u=>({...u,itemCount:this.getItemsByCategory(u.id).length,lowStockCount:this.getItemsByCategory(u.id).filter(n=>n.currentStock<=n.minStock).length}))}}subscribe(s){return this.subscribers.push(s),()=>{const r=this.subscribers.indexOf(s);r>-1&&this.subscribers.splice(r,1)}}notifySubscribers(){this.subscribers.forEach(s=>s())}reset(){this.cache=this.defaultInventory,this.saveDebounced(),this.notifySubscribers()}}const ae=new Or;class Tr{updateCallbacks=[];cachedStats=null;lastUpdate=0;updateInterval=null;unsubscribers=[];constructor(){this.startRealTimeUpdates()}subscribe(s){return this.updateCallbacks.push(s),this.cachedStats&&s(this.cachedStats),()=>{this.updateCallbacks=this.updateCallbacks.filter(r=>r!==s)}}startRealTimeUpdates(){if(this.updateInterval)return;this.updateInterval=setInterval(()=>{const i=Date.now();i-this.lastUpdate>1e4&&(this.notifySubscribers(),this.lastUpdate=i)},5e3);const s=()=>{},r=W.subscribe(()=>this.scheduleNotifySoon()),o=ae.subscribe(()=>this.scheduleNotifySoon());this.unsubscribers.push(s,r,o)}stopRealTimeUpdates(){this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null),this.unsubscribers.forEach(s=>{try{s()}catch{}}),this.unsubscribers=[]}notifySubscribers(){this.cachedStats=this.getStats(),this.updateCallbacks.forEach(s=>s(this.cachedStats))}notifyScheduled=!1;scheduleNotifySoon(){this.notifyScheduled||(this.notifyScheduled=!0,setTimeout(()=>{this.notifyScheduled=!1,this.notifySubscribers()},250))}getStats(){const s=ie.getOrders();W.getAll();const r=new Date;r.setHours(0,0,0,0);const o=s.filter(j=>new Date(j.createdAt)>=r),i=o.reduce((j,f)=>j+f.total,0),u=s.reduce((j,f)=>j+f.total,0),n=s.length,d=new Map;s.forEach(j=>{j.items.forEach(f=>{const y=f.name,C=d.get(y)||{orders:0,revenue:0};d.set(y,{orders:C.orders+f.quantity,revenue:C.revenue+f.price*f.quantity})})});const m=Array.from(d.entries()).map(([j,f])=>({name:j,...f})).sort((j,f)=>f.revenue-j.revenue).slice(0,5),h=ae.getLowStockItemsCount(),S=new Date;S.setDate(S.getDate()-30);const k=s.filter(j=>new Date(j.createdAt)>=S),p=new Set(k.map(j=>j.customerInfo.email));return{totalRevenue:u,totalOrders:n,activeCustomers:p.size,averageOrderValue:n>0?u/n:0,ordersToday:o.length,revenueToday:i,topItems:m,recentOrders:s.slice(0,10).reverse(),lowStockItems:h}}updateOrderStatus(s,r){ie.updateOrderStatus(s,r),this.notifySubscribers()}addOrder(s){const r={...s,id:`order_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),status:"pending"};return ie.storeOrder(r),this.notifySubscribers(),r}updateMenuItemStock(s,r){W.setStock(s,r),this.notifySubscribers()}getOrdersByStatus(s){return ie.getOrders().filter(r=>r.status===s)}getTodaysOrders(){const s=new Date;return s.setHours(0,0,0,0),ie.getOrders().filter(r=>new Date(r.createdAt)>=s)}getOrdersByDateRange(s,r){return ie.getOrders().filter(o=>{const i=new Date(o.createdAt);return i>=s&&i<=r})}}const Ce=new Tr,Ie=l.forwardRef(({className:a,...s},r)=>e.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...s}));Ie.displayName="Textarea";function ft(a,[s,r]){return Math.min(r,Math.max(s,a))}function Dr(a){const s=l.useRef({value:a,previous:a});return l.useMemo(()=>(s.current.value!==a&&(s.current.previous=s.current.value,s.current.value=a),s.current.previous),[a])}var Mr=[" ","Enter","ArrowUp","ArrowDown"],Pr=[" ","Enter"],Ne="Select",[ze,Ve,Er]=Ns(Ne),[Oe,Da]=St(Ne,[Er,jt]),Ue=jt(),[Ar,ue]=Oe(Ne),[_r,Rr]=Oe(Ne),Mt=a=>{const{__scopeSelect:s,children:r,open:o,defaultOpen:i,onOpenChange:u,value:n,defaultValue:d,onValueChange:m,dir:h,name:S,autoComplete:k,disabled:p,required:j,form:f}=a,y=Ue(s),[C,T]=l.useState(null),[N,I]=l.useState(null),[A,_]=l.useState(!1),G=js(h),[R,z]=ct({prop:o,defaultProp:i??!1,onChange:u,caller:Ne}),[$,q]=ct({prop:n,defaultProp:d,onChange:m,caller:Ne}),t=l.useRef(null),O=C?f||!!C.closest("form"):!0,[V,v]=l.useState(new Set),c=Array.from(V).map(g=>g.props.value).join(";");return e.jsx(Ss,{...y,children:e.jsxs(Ar,{required:j,scope:s,trigger:C,onTriggerChange:T,valueNode:N,onValueNodeChange:I,valueNodeHasChildren:A,onValueNodeHasChildrenChange:_,contentId:rt(),value:$,onValueChange:q,open:R,onOpenChange:z,dir:G,triggerPointerDownPosRef:t,disabled:p,children:[e.jsx(ze.Provider,{scope:s,children:e.jsx(_r,{scope:a.__scopeSelect,onNativeOptionAdd:l.useCallback(g=>{v(x=>new Set(x).add(g))},[]),onNativeOptionRemove:l.useCallback(g=>{v(x=>{const P=new Set(x);return P.delete(g),P})},[]),children:r})}),O?e.jsxs(ts,{"aria-hidden":!0,required:j,tabIndex:-1,name:S,autoComplete:k,value:$,onChange:g=>q(g.target.value),disabled:p,form:f,children:[$===void 0?e.jsx("option",{value:""}):null,Array.from(V)]},c):null]})})};Mt.displayName=Ne;var Pt="SelectTrigger",Et=l.forwardRef((a,s)=>{const{__scopeSelect:r,disabled:o=!1,...i}=a,u=Ue(r),n=ue(Pt,r),d=n.disabled||o,m=ne(s,n.onTriggerChange),h=Ve(r),S=l.useRef("touch"),[k,p,j]=rs(y=>{const C=h().filter(I=>!I.disabled),T=C.find(I=>I.value===n.value),N=as(C,y,T);N!==void 0&&n.onValueChange(N.value)}),f=y=>{d||(n.onOpenChange(!0),j()),y&&(n.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return e.jsx(bs,{asChild:!0,...u,children:e.jsx(Z.button,{type:"button",role:"combobox","aria-controls":n.contentId,"aria-expanded":n.open,"aria-required":n.required,"aria-autocomplete":"none",dir:n.dir,"data-state":n.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":ss(n.value)?"":void 0,...i,ref:m,onClick:Q(i.onClick,y=>{y.currentTarget.focus(),S.current!=="mouse"&&f(y)}),onPointerDown:Q(i.onPointerDown,y=>{S.current=y.pointerType;const C=y.target;C.hasPointerCapture(y.pointerId)&&C.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(f(y),y.preventDefault())}),onKeyDown:Q(i.onKeyDown,y=>{const C=k.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(C&&y.key===" ")&&Mr.includes(y.key)&&(f(),y.preventDefault())})})})});Et.displayName=Pt;var At="SelectValue",_t=l.forwardRef((a,s)=>{const{__scopeSelect:r,className:o,style:i,children:u,placeholder:n="",...d}=a,m=ue(At,r),{onValueNodeHasChildrenChange:h}=m,S=u!==void 0,k=ne(s,m.onValueNodeChange);return me(()=>{h(S)},[h,S]),e.jsx(Z.span,{...d,ref:k,style:{pointerEvents:"none"},children:ss(m.value)?e.jsx(e.Fragment,{children:n}):u})});_t.displayName=At;var Fr="SelectIcon",Rt=l.forwardRef((a,s)=>{const{__scopeSelect:r,children:o,...i}=a;return e.jsx(Z.span,{"aria-hidden":!0,...i,ref:s,children:o||"▼"})});Rt.displayName=Fr;var Lr="SelectPortal",Ft=a=>e.jsx(ws,{asChild:!0,...a});Ft.displayName=Lr;var be="SelectContent",Lt=l.forwardRef((a,s)=>{const r=ue(be,a.__scopeSelect),[o,i]=l.useState();if(me(()=>{i(new DocumentFragment)},[]),!r.open){const u=o;return u?Nt.createPortal(e.jsx(Bt,{scope:a.__scopeSelect,children:e.jsx(ze.Slot,{scope:a.__scopeSelect,children:e.jsx("div",{children:a.children})})}),u):null}return e.jsx(zt,{...a,ref:s})});Lt.displayName=be;var re=10,[Bt,xe]=Oe(be),Br="SelectContentImpl",zr=Ts("SelectContent.RemoveScroll"),zt=l.forwardRef((a,s)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:u,onPointerDownOutside:n,side:d,sideOffset:m,align:h,alignOffset:S,arrowPadding:k,collisionBoundary:p,collisionPadding:j,sticky:f,hideWhenDetached:y,avoidCollisions:C,...T}=a,N=ue(be,r),[I,A]=l.useState(null),[_,G]=l.useState(null),R=ne(s,b=>A(b)),[z,$]=l.useState(null),[q,t]=l.useState(null),O=Ve(r),[V,v]=l.useState(!1),c=l.useRef(!1);l.useEffect(()=>{if(I)return Cs(I)},[I]),Is();const g=l.useCallback(b=>{const[E,...Y]=O().map(K=>K.ref.current),[L]=Y.slice(-1),U=document.activeElement;for(const K of b)if(K===U||(K?.scrollIntoView({block:"nearest"}),K===E&&_&&(_.scrollTop=0),K===L&&_&&(_.scrollTop=_.scrollHeight),K?.focus(),document.activeElement!==U))return},[O,_]),x=l.useCallback(()=>g([z,I]),[g,z,I]);l.useEffect(()=>{V&&x()},[V,x]);const{onOpenChange:P,triggerPointerDownPosRef:ee}=N;l.useEffect(()=>{if(I){let b={x:0,y:0};const E=L=>{b={x:Math.abs(Math.round(L.pageX)-(ee.current?.x??0)),y:Math.abs(Math.round(L.pageY)-(ee.current?.y??0))}},Y=L=>{b.x<=10&&b.y<=10?L.preventDefault():I.contains(L.target)||P(!1),document.removeEventListener("pointermove",E),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",E),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",Y,{capture:!0})}}},[I,P,ee]),l.useEffect(()=>{const b=()=>P(!1);return window.addEventListener("blur",b),window.addEventListener("resize",b),()=>{window.removeEventListener("blur",b),window.removeEventListener("resize",b)}},[P]);const[we,he]=rs(b=>{const E=O().filter(U=>!U.disabled),Y=E.find(U=>U.ref.current===document.activeElement),L=as(E,b,Y);L&&setTimeout(()=>L.ref.current.focus())}),Te=l.useCallback((b,E,Y)=>{const L=!c.current&&!Y;(N.value!==void 0&&N.value===E||L)&&($(b),L&&(c.current=!0))},[N.value]),De=l.useCallback(()=>I?.focus(),[I]),ce=l.useCallback((b,E,Y)=>{const L=!c.current&&!Y;(N.value!==void 0&&N.value===E||L)&&t(b)},[N.value]),ke=o==="popper"?Xe:Vt,pe=ke===Xe?{side:d,sideOffset:m,align:h,alignOffset:S,arrowPadding:k,collisionBoundary:p,collisionPadding:j,sticky:f,hideWhenDetached:y,avoidCollisions:C}:{};return e.jsx(Bt,{scope:r,content:I,viewport:_,onViewportChange:G,itemRefCallback:Te,selectedItem:z,onItemLeave:De,itemTextRefCallback:ce,focusSelectedItem:x,selectedItemText:q,position:o,isPositioned:V,searchRef:we,children:e.jsx(Os,{as:zr,allowPinchZoom:!0,children:e.jsx(Ds,{asChild:!0,trapped:N.open,onMountAutoFocus:b=>{b.preventDefault()},onUnmountAutoFocus:Q(i,b=>{N.trigger?.focus({preventScroll:!0}),b.preventDefault()}),children:e.jsx(Ms,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:n,onFocusOutside:b=>b.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:e.jsx(ke,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:b=>b.preventDefault(),...T,...pe,onPlaced:()=>v(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:Q(T.onKeyDown,b=>{const E=b.ctrlKey||b.altKey||b.metaKey;if(b.key==="Tab"&&b.preventDefault(),!E&&b.key.length===1&&he(b.key),["ArrowUp","ArrowDown","Home","End"].includes(b.key)){let L=O().filter(U=>!U.disabled).map(U=>U.ref.current);if(["ArrowUp","End"].includes(b.key)&&(L=L.slice().reverse()),["ArrowUp","ArrowDown"].includes(b.key)){const U=b.target,K=L.indexOf(U);L=L.slice(K+1)}setTimeout(()=>g(L)),b.preventDefault()}})})})})})})});zt.displayName=Br;var Vr="SelectItemAlignedPosition",Vt=l.forwardRef((a,s)=>{const{__scopeSelect:r,onPlaced:o,...i}=a,u=ue(be,r),n=xe(be,r),[d,m]=l.useState(null),[h,S]=l.useState(null),k=ne(s,R=>S(R)),p=Ve(r),j=l.useRef(!1),f=l.useRef(!0),{viewport:y,selectedItem:C,selectedItemText:T,focusSelectedItem:N}=n,I=l.useCallback(()=>{if(u.trigger&&u.valueNode&&d&&h&&y&&C&&T){const R=u.trigger.getBoundingClientRect(),z=h.getBoundingClientRect(),$=u.valueNode.getBoundingClientRect(),q=T.getBoundingClientRect();if(u.dir!=="rtl"){const U=q.left-z.left,K=$.left-U,ge=R.left-K,fe=R.width+ge,$e=Math.max(fe,z.width),qe=window.innerWidth-re,He=ft(K,[re,Math.max(re,qe-$e)]);d.style.minWidth=fe+"px",d.style.left=He+"px"}else{const U=z.right-q.right,K=window.innerWidth-$.right-U,ge=window.innerWidth-R.right-K,fe=R.width+ge,$e=Math.max(fe,z.width),qe=window.innerWidth-re,He=ft(K,[re,Math.max(re,qe-$e)]);d.style.minWidth=fe+"px",d.style.right=He+"px"}const t=p(),O=window.innerHeight-re*2,V=y.scrollHeight,v=window.getComputedStyle(h),c=parseInt(v.borderTopWidth,10),g=parseInt(v.paddingTop,10),x=parseInt(v.borderBottomWidth,10),P=parseInt(v.paddingBottom,10),ee=c+g+V+P+x,we=Math.min(C.offsetHeight*5,ee),he=window.getComputedStyle(y),Te=parseInt(he.paddingTop,10),De=parseInt(he.paddingBottom,10),ce=R.top+R.height/2-re,ke=O-ce,pe=C.offsetHeight/2,b=C.offsetTop+pe,E=c+g+b,Y=ee-E;if(E<=ce){const U=t.length>0&&C===t[t.length-1].ref.current;d.style.bottom="0px";const K=h.clientHeight-y.offsetTop-y.offsetHeight,ge=Math.max(ke,pe+(U?De:0)+K+x),fe=E+ge;d.style.height=fe+"px"}else{const U=t.length>0&&C===t[0].ref.current;d.style.top="0px";const ge=Math.max(ce,c+y.offsetTop+(U?Te:0)+pe)+Y;d.style.height=ge+"px",y.scrollTop=E-ce+y.offsetTop}d.style.margin=`${re}px 0`,d.style.minHeight=we+"px",d.style.maxHeight=O+"px",o?.(),requestAnimationFrame(()=>j.current=!0)}},[p,u.trigger,u.valueNode,d,h,y,C,T,u.dir,o]);me(()=>I(),[I]);const[A,_]=l.useState();me(()=>{h&&_(window.getComputedStyle(h).zIndex)},[h]);const G=l.useCallback(R=>{R&&f.current===!0&&(I(),N?.(),f.current=!1)},[I,N]);return e.jsx($r,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:j,onScrollButtonChange:G,children:e.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:e.jsx(Z.div,{...i,ref:k,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Vt.displayName=Vr;var Ur="SelectPopperPosition",Xe=l.forwardRef((a,s)=>{const{__scopeSelect:r,align:o="start",collisionPadding:i=re,...u}=a,n=Ue(r);return e.jsx(Ps,{...n,...u,ref:s,align:o,collisionPadding:i,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xe.displayName=Ur;var[$r,nt]=Oe(be,{}),Ze="SelectViewport",Ut=l.forwardRef((a,s)=>{const{__scopeSelect:r,nonce:o,...i}=a,u=xe(Ze,r),n=nt(Ze,r),d=ne(s,u.onViewportChange),m=l.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(ze.Slot,{scope:r,children:e.jsx(Z.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Q(i.onScroll,h=>{const S=h.currentTarget,{contentWrapper:k,shouldExpandOnScrollRef:p}=n;if(p?.current&&k){const j=Math.abs(m.current-S.scrollTop);if(j>0){const f=window.innerHeight-re*2,y=parseFloat(k.style.minHeight),C=parseFloat(k.style.height),T=Math.max(y,C);if(T<f){const N=T+j,I=Math.min(f,N),A=N-I;k.style.height=I+"px",k.style.bottom==="0px"&&(S.scrollTop=A>0?A:0,k.style.justifyContent="flex-end")}}}m.current=S.scrollTop})})})]})});Ut.displayName=Ze;var $t="SelectGroup",[qr,Hr]=Oe($t),Wr=l.forwardRef((a,s)=>{const{__scopeSelect:r,...o}=a,i=rt();return e.jsx(qr,{scope:r,id:i,children:e.jsx(Z.div,{role:"group","aria-labelledby":i,...o,ref:s})})});Wr.displayName=$t;var qt="SelectLabel",Ht=l.forwardRef((a,s)=>{const{__scopeSelect:r,...o}=a,i=Hr(qt,r);return e.jsx(Z.div,{id:i.id,...o,ref:s})});Ht.displayName=qt;var Fe="SelectItem",[Gr,Wt]=Oe(Fe),Gt=l.forwardRef((a,s)=>{const{__scopeSelect:r,value:o,disabled:i=!1,textValue:u,...n}=a,d=ue(Fe,r),m=xe(Fe,r),h=d.value===o,[S,k]=l.useState(u??""),[p,j]=l.useState(!1),f=ne(s,N=>m.itemRefCallback?.(N,o,i)),y=rt(),C=l.useRef("touch"),T=()=>{i||(d.onValueChange(o),d.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Gr,{scope:r,value:o,disabled:i,textId:y,isSelected:h,onItemTextChange:l.useCallback(N=>{k(I=>I||(N?.textContent??"").trim())},[]),children:e.jsx(ze.ItemSlot,{scope:r,value:o,disabled:i,textValue:S,children:e.jsx(Z.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":h&&p,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...n,ref:f,onFocus:Q(n.onFocus,()=>j(!0)),onBlur:Q(n.onBlur,()=>j(!1)),onClick:Q(n.onClick,()=>{C.current!=="mouse"&&T()}),onPointerUp:Q(n.onPointerUp,()=>{C.current==="mouse"&&T()}),onPointerDown:Q(n.onPointerDown,N=>{C.current=N.pointerType}),onPointerMove:Q(n.onPointerMove,N=>{C.current=N.pointerType,i?m.onItemLeave?.():C.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(n.onPointerLeave,N=>{N.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:Q(n.onKeyDown,N=>{m.searchRef?.current!==""&&N.key===" "||(Pr.includes(N.key)&&T(),N.key===" "&&N.preventDefault())})})})})});Gt.displayName=Fe;var Me="SelectItemText",Kt=l.forwardRef((a,s)=>{const{__scopeSelect:r,className:o,style:i,...u}=a,n=ue(Me,r),d=xe(Me,r),m=Wt(Me,r),h=Rr(Me,r),[S,k]=l.useState(null),p=ne(s,T=>k(T),m.onItemTextChange,T=>d.itemTextRefCallback?.(T,m.value,m.disabled)),j=S?.textContent,f=l.useMemo(()=>e.jsx("option",{value:m.value,disabled:m.disabled,children:j},m.value),[m.disabled,m.value,j]),{onNativeOptionAdd:y,onNativeOptionRemove:C}=h;return me(()=>(y(f),()=>C(f)),[y,C,f]),e.jsxs(e.Fragment,{children:[e.jsx(Z.span,{id:m.textId,...u,ref:p}),m.isSelected&&n.valueNode&&!n.valueNodeHasChildren?Nt.createPortal(u.children,n.valueNode):null]})});Kt.displayName=Me;var Qt="SelectItemIndicator",Yt=l.forwardRef((a,s)=>{const{__scopeSelect:r,...o}=a;return Wt(Qt,r).isSelected?e.jsx(Z.span,{"aria-hidden":!0,...o,ref:s}):null});Yt.displayName=Qt;var et="SelectScrollUpButton",Jt=l.forwardRef((a,s)=>{const r=xe(et,a.__scopeSelect),o=nt(et,a.__scopeSelect),[i,u]=l.useState(!1),n=ne(s,o.onScrollButtonChange);return me(()=>{if(r.viewport&&r.isPositioned){let d=function(){const h=m.scrollTop>0;u(h)};const m=r.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),i?e.jsx(Zt,{...a,ref:n,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=r;d&&m&&(d.scrollTop=d.scrollTop-m.offsetHeight)}}):null});Jt.displayName=et;var tt="SelectScrollDownButton",Xt=l.forwardRef((a,s)=>{const r=xe(tt,a.__scopeSelect),o=nt(tt,a.__scopeSelect),[i,u]=l.useState(!1),n=ne(s,o.onScrollButtonChange);return me(()=>{if(r.viewport&&r.isPositioned){let d=function(){const h=m.scrollHeight-m.clientHeight,S=Math.ceil(m.scrollTop)<h;u(S)};const m=r.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),i?e.jsx(Zt,{...a,ref:n,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=r;d&&m&&(d.scrollTop=d.scrollTop+m.offsetHeight)}}):null});Xt.displayName=tt;var Zt=l.forwardRef((a,s)=>{const{__scopeSelect:r,onAutoScroll:o,...i}=a,u=xe("SelectScrollButton",r),n=l.useRef(null),d=Ve(r),m=l.useCallback(()=>{n.current!==null&&(window.clearInterval(n.current),n.current=null)},[]);return l.useEffect(()=>()=>m(),[m]),me(()=>{d().find(S=>S.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),e.jsx(Z.div,{"aria-hidden":!0,...i,ref:s,style:{flexShrink:0,...i.style},onPointerDown:Q(i.onPointerDown,()=>{n.current===null&&(n.current=window.setInterval(o,50))}),onPointerMove:Q(i.onPointerMove,()=>{u.onItemLeave?.(),n.current===null&&(n.current=window.setInterval(o,50))}),onPointerLeave:Q(i.onPointerLeave,()=>{m()})})}),Kr="SelectSeparator",es=l.forwardRef((a,s)=>{const{__scopeSelect:r,...o}=a;return e.jsx(Z.div,{"aria-hidden":!0,...o,ref:s})});es.displayName=Kr;var st="SelectArrow",Qr=l.forwardRef((a,s)=>{const{__scopeSelect:r,...o}=a,i=Ue(r),u=ue(st,r),n=xe(st,r);return u.open&&n.position==="popper"?e.jsx(Es,{...i,...o,ref:s}):null});Qr.displayName=st;var Yr="SelectBubbleInput",ts=l.forwardRef(({__scopeSelect:a,value:s,...r},o)=>{const i=l.useRef(null),u=ne(o,i),n=Dr(s);return l.useEffect(()=>{const d=i.current;if(!d)return;const m=window.HTMLSelectElement.prototype,S=Object.getOwnPropertyDescriptor(m,"value").set;if(n!==s&&S){const k=new Event("change",{bubbles:!0});S.call(d,s),d.dispatchEvent(k)}},[n,s]),e.jsx(Z.select,{...r,style:{...Ls,...r.style},ref:u,defaultValue:s})});ts.displayName=Yr;function ss(a){return a===""||a===void 0}function rs(a){const s=ks(a),r=l.useRef(""),o=l.useRef(0),i=l.useCallback(n=>{const d=r.current+n;s(d),(function m(h){r.current=h,window.clearTimeout(o.current),h!==""&&(o.current=window.setTimeout(()=>m(""),1e3))})(d)},[s]),u=l.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,i,u]}function as(a,s,r){const i=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,u=r?a.indexOf(r):-1;let n=Jr(a,Math.max(u,0));i.length===1&&(n=n.filter(h=>h!==r));const m=n.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return m!==r?m:void 0}function Jr(a,s){return a.map((r,o)=>a[(s+o)%a.length])}var Xr=Mt,ns=Et,Zr=_t,ea=Rt,ta=Ft,is=Lt,sa=Ut,ls=Ht,cs=Gt,ra=Kt,aa=Yt,os=Jt,ds=Xt,ms=es;const je=Xr,Se=Zr,oe=l.forwardRef(({className:a,children:s,...r},o)=>e.jsxs(ns,{ref:o,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[s,e.jsx(ea,{asChild:!0,children:e.jsx(wt,{className:"h-4 w-4 opacity-50"})})]}));oe.displayName=ns.displayName;const us=l.forwardRef(({className:a,...s},r)=>e.jsx(os,{ref:r,className:se("flex cursor-default items-center justify-center py-1",a),...s,children:e.jsx(Qs,{className:"h-4 w-4"})}));us.displayName=os.displayName;const xs=l.forwardRef(({className:a,...s},r)=>e.jsx(ds,{ref:r,className:se("flex cursor-default items-center justify-center py-1",a),...s,children:e.jsx(wt,{className:"h-4 w-4"})}));xs.displayName=ds.displayName;const de=l.forwardRef(({className:a,children:s,position:r="popper",...o},i)=>e.jsx(ta,{children:e.jsxs(is,{ref:i,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...o,children:[e.jsx(us,{}),e.jsx(sa,{className:se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(xs,{})]})}));de.displayName=is.displayName;const na=l.forwardRef(({className:a,...s},r)=>e.jsx(ls,{ref:r,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s}));na.displayName=ls.displayName;const H=l.forwardRef(({className:a,children:s,...r},o)=>e.jsxs(cs,{ref:o,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(aa,{children:e.jsx(Ws,{className:"h-4 w-4"})})}),e.jsx(ra,{children:s})]}));H.displayName=cs.displayName;const ia=l.forwardRef(({className:a,...s},r)=>e.jsx(ms,{ref:r,className:se("-mx-1 my-1 h-px bg-muted",a),...s}));ia.displayName=ms.displayName;const la=()=>{const[a,s]=l.useState([]),[r,o]=l.useState(null),[i,u]=l.useState(null),[n,d]=l.useState({customerName:"",customerPhone:"",customerEmail:"",deliveryAddress:"",specialInstructions:"",orderType:"delivery",items:[]}),[m,h]=l.useState(!1),[S,k]=l.useState([]),[p,j]=l.useState(""),[f,y]=l.useState(1),C=[{id:"pending",title:"New Orders",color:"bg-gray-100",textColor:"text-gray-800"},{id:"confirmed",title:"Confirmed",color:"bg-blue-100",textColor:"text-blue-800"},{id:"preparing",title:"Preparing",color:"bg-yellow-100",textColor:"text-yellow-800"},{id:"ready",title:"Ready",color:"bg-orange-100",textColor:"text-orange-800"},{id:"delivered",title:"Delivered",color:"bg-green-100",textColor:"text-green-800"}],T=()=>{s(ie.getOrders().slice().reverse())},N=()=>{const c=a.filter(g=>g.status==="pending");if(c.length===0){alert("No new orders to print");return}c.forEach((g,x)=>{setTimeout(()=>{O(g)},x*1e3)})},I=c=>{u(c),d({customerName:c.customerInfo.name,customerPhone:c.customerInfo.phone,customerEmail:c.customerInfo.email,deliveryAddress:c.customerInfo.address||"",specialInstructions:c.specialInstructions||"",orderType:c.orderType,items:c.items.map(x=>({name:x.name,quantity:x.quantity,price:x.price,brand:x.brand}))});const g=W.getAll().filter(x=>x.inStock);k(g.map(x=>({name:x.name,price:x.price,brand:x.restaurant,category:x.category})))},A=()=>{u(null),d({customerName:"",customerPhone:"",customerEmail:"",deliveryAddress:"",specialInstructions:"",orderType:"delivery",items:[]}),h(!1),j(""),y(1)},_=(c,g)=>{if(g<1)return;const x=[...n.items];x[c].quantity=g,d({...n,items:x})},G=c=>{const g=n.items.filter((x,P)=>P!==c);d({...n,items:g})},R=()=>{if(!p)return;const c=S.find(x=>x.name===p);if(!c)return;const g=n.items.findIndex(x=>x.name===p);if(g!==-1){const x=[...n.items];x[g].quantity+=f,d({...n,items:x})}else{const x={name:c.name,quantity:f,price:c.price,brand:c.brand};d({...n,items:[...n.items,x]})}j(""),y(1),h(!1)},z=()=>{if(!i)return;const c=n.items.reduce((x,P)=>x+P.price*P.quantity,0),g={...i,customerInfo:{name:n.customerName,phone:n.customerPhone,email:n.customerEmail,address:n.deliveryAddress||void 0},specialInstructions:n.specialInstructions||void 0,orderType:n.orderType,items:n.items,total:c,updatedAt:new Date().toISOString()};ie.updateOrder(g),Ce.updateOrderStatus(i.id,g.status),A()};l.useEffect(()=>{T();const c=Ce.subscribe(()=>{T()});return()=>{c()}},[]);const $=(c,g)=>{o(g),c.dataTransfer.effectAllowed="move"},q=c=>{c.preventDefault(),c.dataTransfer.dropEffect="move"},t=(c,g)=>{c.preventDefault(),r&&(Ce.updateOrderStatus(r,g),o(null))},O=c=>{const g=window.open("","_blank","width=800,height=900");if(!g)return;const x={},P={};c.items.forEach(b=>{const E=b.brand||"Unknown";x[E]||(x[E]=[]);const Y=x[E].find(L=>L.name===b.name);Y?Y.quantity+=b.quantity:x[E].push({name:b.name,quantity:b.quantity,price:b.price}),P[b.name]||(P[b.name]={name:b.name,quantity:0,price:b.price}),P[b.name].quantity+=b.quantity});const ee=["OhSmash","Wonder Wings","Okra Green"],we=`
      <style>
        * { box-sizing: border-box; }
        body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; color: #111827; margin: 0; padding: 0; }
        .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #E5E7EB; padding-bottom: 16px; }
        .muted { color: #6B7280; }
        .page { padding: 24px; min-height: 100vh; }
        .page + .page { page-break-before: always; }
        h1 { font-size: 24px; margin: 0 0 8px 0; font-weight: 700; }
        h2 { font-size: 18px; margin: 0 0 12px 0; font-weight: 600; }
        table { width: 100%; border-collapse: collapse; margin-top: 16px; }
        th, td { padding: 12px 8px; font-size: 14px; }
        thead th { text-align: left; border-bottom: 2px solid #E5E7EB; font-weight: 600; background: #F9FAFB; }
        tbody tr:nth-child(even) { background: #F9FAFB; }
        tbody tr + tr td { border-top: 1px solid #E5E7EB; }
        .qty, .price { text-align: right; }
        .totals { text-align: right; font-weight: 700; font-size: 16px; margin-top: 16px; padding-top: 12px; border-top: 2px solid #E5E7EB; }
        .pill { display:inline-block; padding:4px 12px; border-radius:9999px; background:#3B82F6; color: white; font-size:12px; font-weight: 500; }
        .meta { margin: 12px 0 20px 0; font-size: 13px; line-height: 1.4; }
        .brand-header { background: #F3F4F6; padding: 8px 12px; border-radius: 6px; margin-bottom: 16px; }
        @media print {
          .page { margin: 0; padding: 20px; }
          .page + .page { page-break-before: always; }
        }
      </style>
    `,he=(b,E)=>`
      <div class="header">
        <h1>Epping Food Court</h1>
        <h2>${b}</h2>
        ${E?`<div class="brand-header"><strong>Kitchen Team:</strong> ${E}</div>`:""}
        <div class="meta muted">
          <div><strong>Order #${c.id}</strong> • ${new Date(c.createdAt).toLocaleString()}</div>
          <div>${c.orderType.toUpperCase()} • <span class="pill">${c.customerInfo.name}</span> • ${c.customerInfo.phone}</div>
          ${c.orderType==="delivery"&&c.customerInfo.address?`<div><strong>Delivery Address:</strong> ${c.customerInfo.address}</div>`:""}
          ${c.specialInstructions?`<div><strong>Special Instructions:</strong> ${c.specialInstructions}</div>`:""}
        </div>
      </div>
    `,Te=b=>`
      <table>
        <thead>
          <tr>
            <th>Item</th>
            <th class="qty">Qty</th>
          </tr>
        </thead>
        <tbody>
          ${b.map(E=>`
            <tr>
              <td>${E.name}</td>
              <td class="qty">x${E.quantity}</td>
            </tr>
          `).join("")}
        </tbody>
      </table>
    `,De=b=>`
      <table>
        <thead>
          <tr>
            <th>Item</th>
            <th class="qty">Qty</th>
            <th class="price">Price</th>
          </tr>
        </thead>
        <tbody>
          ${b.map(E=>`
            <tr>
              <td>${E.name}</td>
              <td class="qty">x${E.quantity}</td>
              <td class="price">£${(E.price*E.quantity).toFixed(2)}</td>
            </tr>
          `).join("")}
        </tbody>
      </table>
    `,ce=ee.filter(b=>x[b]&&x[b].length>0).map(b=>`
          <div class="page">
            ${he("Kitchen Ticket",b)}
            ${Te(x[b])}
          </div>
        `).join(""),ke=Object.values(P).sort((b,E)=>b.name.localeCompare(E.name)),pe=`
      <div class="page">
        ${he("Packing Sheet — Customer Copy")}
        ${De(ke)}
        <div class="totals">Order Total: £${c.total.toFixed(2)}</div>
      </div>
    `;g.document.write(`
      <html>
        <head>
          <title>Order ${c.id} — Print</title>
          ${we}
        </head>
        <body>
          ${ce}
          ${pe}
          <script>window.print();<\/script>
        </body>
      </html>
    `),g.document.close()},V=c=>a.filter(g=>g.status===c),v=c=>{const g=new Date,x=new Date(c),P=Math.floor((g.getTime()-x.getTime())/(1e3*60));if(P<1)return"Just now";if(P<60)return`${P}m ago`;const ee=Math.floor(P/60);return ee<24?`${ee}h ago`:`${Math.floor(ee/24)}d ago`};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Order Management"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(J,{variant:"outline",children:[a.length," Total Orders"]}),e.jsxs(w,{onClick:N,variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[e.jsx(pt,{className:"h-4 w-4"}),e.jsx("span",{children:"Print All New"})]}),e.jsx(w,{onClick:T,variant:"outline",size:"sm",children:"Refresh"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4 overflow-x-auto",children:C.map(c=>{const g=V(c.id);return e.jsxs("div",{className:"space-y-2 sm:space-y-3 min-w-[280px] sm:min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:c.title}),e.jsx(J,{className:`${c.color} ${c.textColor} text-xs sm:text-sm`,children:g.length})]}),e.jsx("div",{className:"min-h-[300px] sm:min-h-[400px] space-y-2 sm:space-y-3 p-2 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",onDragOver:q,onDrop:x=>t(x,c.id),children:g.map(x=>e.jsx(D,{draggable:!0,onDragStart:P=>$(P,x.id),className:"cursor-move hover:shadow-md transition-shadow",children:e.jsxs(M,{className:"p-3 sm:p-4 space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-mono text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400",children:["#",x.id]}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[e.jsx(at,{className:"h-3 w-3"}),e.jsx("span",{className:"hidden sm:inline",children:v(x.createdAt)})]})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-500 flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white truncate",children:x.customerInfo.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-500 flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:x.customerInfo.phone})]}),x.orderType==="delivery"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bt,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Delivery"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[x.items.length," items • £",x.total.toFixed(2)]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[x.items.slice(0,2).map(P=>P.name).join(", "),x.items.length>2&&` +${x.items.length-2} more`]})]}),e.jsxs("div",{className:"flex space-x-2 pt-2",children:[e.jsxs(w,{size:"sm",variant:"outline",onClick:()=>O(x),className:"flex-1",children:[e.jsx(pt,{className:"h-3 w-3 mr-1"}),"Print"]}),e.jsxs(w,{size:"sm",variant:"outline",onClick:()=>I(x),className:"flex-1",children:[e.jsx(Tt,{className:"h-3 w-3 mr-1"}),"Edit"]})]})]})},x.id))})]},c.id)})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Edit Order #",i.id]}),e.jsx(w,{variant:"ghost",size:"sm",onClick:A,children:e.jsx(Pe,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"customerName",children:"Customer Name"}),e.jsx(X,{id:"customerName",value:n.customerName,onChange:c=>d({...n,customerName:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"customerPhone",children:"Phone"}),e.jsx(X,{id:"customerPhone",value:n.customerPhone,onChange:c=>d({...n,customerPhone:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"customerEmail",children:"Email"}),e.jsx(X,{id:"customerEmail",type:"email",value:n.customerEmail,onChange:c=>d({...n,customerEmail:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"orderType",children:"Order Type"}),e.jsxs(je,{value:n.orderType,onValueChange:c=>d({...n,orderType:c}),children:[e.jsx(oe,{children:e.jsx(Se,{})}),e.jsxs(de,{children:[e.jsx(H,{value:"delivery",children:"Delivery"}),e.jsx(H,{value:"pickup",children:"Pickup"})]})]})]})]}),n.orderType==="delivery"&&e.jsxs("div",{children:[e.jsx(B,{htmlFor:"deliveryAddress",children:"Delivery Address"}),e.jsx(Ie,{id:"deliveryAddress",value:n.deliveryAddress,onChange:c=>d({...n,deliveryAddress:c.target.value}),rows:2})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"specialInstructions",children:"Special Instructions"}),e.jsx(Ie,{id:"specialInstructions",value:n.specialInstructions,onChange:c=>d({...n,specialInstructions:c.target.value}),rows:2})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{children:"Order Items"}),e.jsxs(w,{size:"sm",variant:"outline",onClick:()=>h(!m),className:"flex items-center space-x-1",children:[e.jsx(ve,{className:"h-3 w-3"}),e.jsx("span",{children:"Add Item"})]})]}),m&&e.jsx("div",{className:"border rounded-lg p-4 mb-4 bg-gray-50 dark:bg-gray-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"menuItem",children:"Select Item"}),e.jsxs(je,{value:p,onValueChange:j,children:[e.jsx(oe,{children:e.jsx(Se,{placeholder:"Choose an item"})}),e.jsx(de,{children:S.map((c,g)=>e.jsxs(H,{value:c.name,children:[c.name," (",c.brand,") - £",c.price.toFixed(2)]},g))})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"quantity",children:"Quantity"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(w,{size:"sm",variant:"outline",onClick:()=>y(Math.max(1,f-1)),children:e.jsx(Je,{className:"h-3 w-3"})}),e.jsx(X,{type:"number",min:"1",value:f,onChange:c=>y(Math.max(1,parseInt(c.target.value)||1)),className:"w-16 text-center"}),e.jsx(w,{size:"sm",variant:"outline",onClick:()=>y(f+1),children:e.jsx(ve,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx(w,{onClick:R,disabled:!p,children:"Add to Order"}),e.jsx(w,{variant:"outline",onClick:()=>h(!1),children:"Cancel"})]})]})}),e.jsxs("div",{className:"space-y-2",children:[n.items.map((c,g)=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:c.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[c.brand," • £",c.price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(w,{size:"sm",variant:"outline",onClick:()=>_(g,c.quantity-1),children:e.jsx(Je,{className:"h-3 w-3"})}),e.jsx("span",{className:"w-8 text-center",children:c.quantity}),e.jsx(w,{size:"sm",variant:"outline",onClick:()=>_(g,c.quantity+1),children:e.jsx(ve,{className:"h-3 w-3"})}),e.jsx(w,{size:"sm",variant:"destructive",onClick:()=>G(g),children:e.jsx(Pe,{className:"h-3 w-3"})})]})]},g)),n.items.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:'No items in this order. Click "Add Item" to add items.'})]})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),e.jsxs("span",{className:"text-lg font-bold",children:["£",n.items.reduce((c,g)=>c+g.price*g.quantity,0).toFixed(2)]})]})}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(w,{variant:"outline",onClick:A,children:"Cancel"}),e.jsx(w,{onClick:z,children:"Save Changes"})]})]})]})})]})},ca=()=>{const[a,s]=l.useState([]),[r,o]=l.useState("All"),[i,u]=l.useState(""),[n,d]=l.useState(""),[m,h]=l.useState("grid"),[S,k]=l.useState([]),[p,j]=l.useState(!1),[f,y]=l.useState(null),[C,T]=l.useState(""),[N,I]=l.useState({restaurant:"OhSmash",category:"General",name:"",price:0,description:"",image:"",veg:!1,inStock:!0});l.useEffect(()=>{const t=()=>s(W.getAll());t();const O=W.subscribe(t);return()=>O()},[]),l.useEffect(()=>{const t=setTimeout(()=>{d(i)},300);return()=>clearTimeout(t)},[i]);const A=l.useMemo(()=>a.length?a.filter(t=>{if(!(r==="All"||t.restaurant===r))return!1;if(!n)return!0;const V=n.toLowerCase();return t.name.toLowerCase().includes(V)||t.category.toLowerCase().includes(V)||t.description.toLowerCase().includes(V)}):[],[a,r,n]),_=()=>{if(!N.name||N.price<=0)return;const t=W.add(N);s([t,...a]),I({restaurant:"OhSmash",category:"General",name:"",price:0,description:"",image:"",veg:!1,inStock:!0}),j(!1)},G=t=>{W.remove(t)},R=t=>{const O=a.find(V=>V.id===t);O&&W.setStock(t,!O.inStock)},z=t=>{k(O=>O.includes(t)?O.filter(V=>V!==t):[...O,t])},$=t=>{S.forEach(O=>{W.setStock(O,t)}),s(a.map(O=>S.includes(O.id)?{...O,inStock:t}:O)),k([])},q=()=>{S.forEach(t=>W.remove(t)),s(a.filter(t=>!S.includes(t.id))),k([])};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Menu Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your menu items and availability"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(w,{variant:"outline",size:"sm",children:[e.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(w,{variant:"outline",size:"sm",children:[e.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Import"]}),e.jsxs(w,{onClick:()=>j(!0),children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]}),e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search menu items...",value:i,onChange:t=>u(t.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:r,onChange:t=>o(t.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[e.jsx("option",{value:"All",children:"All Restaurants"}),e.jsx("option",{value:"OhSmash",children:"OhSmash"}),e.jsx("option",{value:"Wonder Wings",children:"Wonder Wings"}),e.jsx("option",{value:"Okra Green",children:"Okra Green"})]}),e.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-600 rounded-lg",children:[e.jsx(w,{variant:m==="grid"?"default":"ghost",size:"sm",onClick:()=>h("grid"),className:"rounded-r-none",children:e.jsx(ir,{className:"h-4 w-4"})}),e.jsx(w,{variant:m==="list"?"default":"ghost",size:"sm",onClick:()=>h("list"),className:"rounded-l-none",children:e.jsx(dr,{className:"h-4 w-4"})})]})]})]})})}),S.length>0&&e.jsx(D,{className:"border-primary",children:e.jsx(M,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-2 sm:space-y-0",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[S.length," item(s) selected"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[e.jsxs(w,{size:"sm",variant:"outline",onClick:()=>$(!0),className:"w-full sm:w-auto",children:[e.jsx(mt,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Mark In Stock"}),e.jsx("span",{className:"sm:hidden",children:"In Stock"})]}),e.jsxs(w,{size:"sm",variant:"outline",onClick:()=>$(!1),className:"w-full sm:w-auto",children:[e.jsx(ut,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Mark Out of Stock"}),e.jsx("span",{className:"sm:hidden",children:"Out of Stock"})]}),e.jsxs(w,{size:"sm",variant:"destructive",onClick:q,className:"w-full sm:w-auto",children:[e.jsx(Ye,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Delete Selected"}),e.jsx("span",{className:"sm:hidden",children:"Delete"})]})]})]})})}),p&&e.jsx(D,{className:"border-primary",children:e.jsxs(M,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Menu Item"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Restaurant"}),e.jsxs("select",{value:N.restaurant,onChange:t=>I({...N,restaurant:t.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"OhSmash",children:"OhSmash"}),e.jsx("option",{value:"Wonder Wings",children:"Wonder Wings"}),e.jsx("option",{value:"Okra Green",children:"Okra Green"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),e.jsx("input",{type:"text",value:N.category,onChange:t=>I({...N,category:t.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Burgers, Sides, Drinks"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Item Name *"}),e.jsx("input",{type:"text",value:N.name,onChange:t=>I({...N,name:t.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Smash Burger"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price (£) *"}),e.jsx("input",{type:"number",step:"0.01",value:N.price,onChange:t=>I({...N,price:Number(t.target.value)}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"0.00"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx("textarea",{value:N.description,onChange:t=>I({...N,description:t.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3,placeholder:"Describe the item..."})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:N.veg,onChange:t=>I({...N,veg:t.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Vegetarian"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:N.inStock,onChange:t=>I({...N,inStock:t.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"In Stock"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[e.jsx(w,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsx(w,{onClick:_,children:"Add Item"})]})]})}),e.jsx("div",{className:m==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-2",children:A.map(t=>e.jsx(D,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(M,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:S.includes(t.id),onChange:()=>z(t.id),className:"rounded"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.restaurant," • ",t.category]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(w,{size:"sm",variant:"ghost",onClick:()=>R(t.id),children:t.inStock?e.jsx(mt,{className:"h-4 w-4"}):e.jsx(ut,{className:"h-4 w-4"})}),e.jsx(w,{size:"sm",variant:"ghost",onClick:()=>G(t.id),children:e.jsx(Ye,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:f===t.id?e.jsxs("div",{className:"space-y-2",children:[e.jsx("textarea",{value:C,onChange:O=>T(O.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3,placeholder:"Description..."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{size:"sm",onClick:()=>{W.update(t.id,{description:C}),y(null)},children:"Save"}),e.jsx(w,{size:"sm",variant:"outline",onClick:()=>y(null),children:"Cancel"})]})]}):e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("p",{className:"line-clamp-2",children:t.description||"No description"}),e.jsx(w,{size:"icon",variant:"ghost",className:"shrink-0",onClick:()=>{y(t.id),T(t.description||"")},"aria-label":"Edit description",children:"✎"})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",step:"0.01",className:"w-24 p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:t.price,onChange:O=>W.update(t.id,{price:Number(O.target.value)})}),t.veg&&e.jsx(J,{variant:"outline",className:"text-green-600 border-green-600",children:"VEG"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:t.category,onChange:O=>W.update(t.id,{category:O.target.value}),children:e.jsx("option",{value:t.category,children:t.category})}),e.jsx(J,{className:t.inStock?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:t.inStock?"In Stock":"Out of Stock"})]})]})]})},t.id))}),A.length===0&&e.jsx(D,{children:e.jsx(M,{className:"p-8 text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No menu items found"})})})]})};var it="Progress",lt=100,[oa,Ma]=St(it),[da,ma]=oa(it),hs=l.forwardRef((a,s)=>{const{__scopeProgress:r,value:o=null,max:i,getValueLabel:u=ua,...n}=a;(i||i===0)&&!yt(i)&&console.error(xa(`${i}`,"Progress"));const d=yt(i)?i:lt;o!==null&&!vt(o,d)&&console.error(ha(`${o}`,"Progress"));const m=vt(o,d)?o:null,h=Le(m)?u(m,d):void 0;return e.jsx(da,{scope:r,value:m,max:d,children:e.jsx(Z.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Le(m)?m:void 0,"aria-valuetext":h,role:"progressbar","data-state":fs(m,d),"data-value":m??void 0,"data-max":d,...n,ref:s})})});hs.displayName=it;var ps="ProgressIndicator",gs=l.forwardRef((a,s)=>{const{__scopeProgress:r,...o}=a,i=ma(ps,r);return e.jsx(Z.div,{"data-state":fs(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...o,ref:s})});gs.displayName=ps;function ua(a,s){return`${Math.round(a/s*100)}%`}function fs(a,s){return a==null?"indeterminate":a===s?"complete":"loading"}function Le(a){return typeof a=="number"}function yt(a){return Le(a)&&!isNaN(a)&&a>0}function vt(a,s){return Le(a)&&!isNaN(a)&&a<=s&&a>=0}function xa(a,s){return`Invalid prop \`max\` of value \`${a}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lt}\`.`}function ha(a,s){return`Invalid prop \`value\` of value \`${a}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lt} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ys=hs,pa=gs;const vs=l.forwardRef(({className:a,value:s,...r},o)=>e.jsx(ys,{ref:o,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...r,children:e.jsx(pa,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));vs.displayName=ys.displayName;const ga=()=>{const[a,s]=l.useState([]),[r,o]=l.useState([]),[i,u]=l.useState(!1),[n,d]=l.useState(null),[m,h]=l.useState("all"),[S,k]=l.useState(""),[p,j]=l.useState({totalItems:0,lowStockCount:0,totalValue:0,categories:[]}),[f,y]=l.useState({name:"",category:"proteins",currentStock:0,minStock:10,maxStock:100,unit:"pieces",supplier:"",description:"",allergens:[]});l.useEffect(()=>{const t=()=>{s(ae.getAllItems()),o(ae.getCategories()),j(ae.getInventoryStats())};return t(),ae.subscribe(t)},[]);const C=t=>Math.min(t.currentStock/t.maxStock*100,100),T=t=>t.currentStock===0?"bg-red-100 text-red-800":t.currentStock<=t.minStock?"bg-orange-100 text-orange-800":t.currentStock<=t.minStock*1.5?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",N=t=>t.currentStock===0?e.jsx(Ae,{className:"h-4 w-4 text-red-500"}):t.currentStock<=t.minStock?e.jsx(Ae,{className:"h-4 w-4 text-orange-500"}):t.currentStock<=t.minStock*1.5?e.jsx(_e,{className:"h-4 w-4 text-yellow-500"}):e.jsx(kt,{className:"h-4 w-4 text-green-500"}),I=t=>t.currentStock===0?"OUT OF STOCK":t.currentStock<=t.minStock?"LOW STOCK":t.currentStock<=t.minStock*1.5?"MEDIUM":"IN STOCK",A=()=>{!f.name||f.currentStock<0||(ae.addItem(f),y({name:"",category:"proteins",currentStock:0,minStock:10,maxStock:100,unit:"pieces",supplier:"",description:"",allergens:[]}),u(!1))},_=()=>{!n||!f.name||(ae.updateItem(n.id,f),d(null),y({name:"",category:"proteins",currentStock:0,minStock:10,maxStock:100,unit:"pieces",supplier:"",description:"",allergens:[]}))},G=t=>{d(t),y({name:t.name,category:t.category,currentStock:t.currentStock,minStock:t.minStock,maxStock:t.maxStock,unit:t.unit,supplier:t.supplier,description:t.description||"",allergens:t.allergens||[]})},R=()=>{d(null),y({name:"",category:"proteins",currentStock:0,minStock:10,maxStock:100,unit:"pieces",supplier:"",description:"",allergens:[]})},z=(t,O)=>{ae.updateStock(t,O)},$=t=>{window.confirm("Are you sure you want to delete this item?")&&ae.deleteItem(t)},q=a.filter(t=>{const O=m==="all"||t.category===m,V=t.name.toLowerCase().includes(S.toLowerCase())||t.supplier.toLowerCase().includes(S.toLowerCase());return O&&V});return a.filter(t=>t.currentStock<=t.minStock),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Inventory Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track stock levels and manage supplies"})]}),e.jsxs(w,{onClick:()=>u(!0),children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Items"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p.totalItems})]}),e.jsx(_e,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:p.lowStockCount})]}),e.jsx(Ae,{className:"h-8 w-8 text-orange-500"})]})})}),e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Out of Stock"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.filter(t=>t.currentStock===0).length})]}),e.jsx(Ae,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Categories"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.length})]}),e.jsx(le,{className:"h-8 w-8 text-green-500"})]})})})]}),e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"h-4 w-4 text-gray-500"}),e.jsx(X,{placeholder:"Search items or suppliers...",value:S,onChange:t=>k(t.target.value),className:"w-full sm:w-64"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"h-4 w-4 text-gray-500"}),e.jsxs(je,{value:m,onValueChange:h,children:[e.jsx(oe,{className:"w-48",children:e.jsx(Se,{placeholder:"Filter by category"})}),e.jsxs(de,{children:[e.jsx(H,{value:"all",children:"All Categories"}),r.map(t=>e.jsx(H,{value:t.id,children:t.name},t.id))]})]})]})]})})}),(i||n)&&e.jsx(D,{className:"border-primary",children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:n?"Edit Inventory Item":"Add Inventory Item"}),e.jsx(w,{variant:"ghost",size:"sm",onClick:n?R:()=>u(!1),children:e.jsx(Pe,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"name",children:"Item Name *"}),e.jsx(X,{id:"name",value:f.name,onChange:t=>y({...f,name:t.target.value}),placeholder:"Enter item name"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"category",children:"Category *"}),e.jsxs(je,{value:f.category,onValueChange:t=>y({...f,category:t}),children:[e.jsx(oe,{children:e.jsx(Se,{placeholder:"Select category"})}),e.jsx(de,{children:r.map(t=>e.jsx(H,{value:t.id,children:t.name},t.id))})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"currentStock",children:"Current Stock *"}),e.jsx(X,{id:"currentStock",type:"number",min:"0",value:f.currentStock,onChange:t=>y({...f,currentStock:Number(t.target.value)})})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"unit",children:"Unit *"}),e.jsxs(je,{value:f.unit,onValueChange:t=>y({...f,unit:t}),children:[e.jsx(oe,{children:e.jsx(Se,{placeholder:"Select unit"})}),e.jsxs(de,{children:[e.jsx(H,{value:"pieces",children:"Pieces"}),e.jsx(H,{value:"pounds",children:"Pounds"}),e.jsx(H,{value:"kg",children:"Kilograms"}),e.jsx(H,{value:"liters",children:"Liters"}),e.jsx(H,{value:"quarts",children:"Quarts"}),e.jsx(H,{value:"cans",children:"Cans"}),e.jsx(H,{value:"bottles",children:"Bottles"}),e.jsx(H,{value:"jars",children:"Jars"}),e.jsx(H,{value:"bags",children:"Bags"}),e.jsx(H,{value:"containers",children:"Containers"})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"minStock",children:"Minimum Stock Level *"}),e.jsx(X,{id:"minStock",type:"number",min:"0",value:f.minStock,onChange:t=>y({...f,minStock:Number(t.target.value)})})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"maxStock",children:"Maximum Stock Level *"}),e.jsx(X,{id:"maxStock",type:"number",min:"0",value:f.maxStock,onChange:t=>y({...f,maxStock:Number(t.target.value)})})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"supplier",children:"Supplier *"}),e.jsx(X,{id:"supplier",value:f.supplier,onChange:t=>y({...f,supplier:t.target.value}),placeholder:"Enter supplier name"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"description",children:"Description"}),e.jsx(Ie,{id:"description",value:f.description,onChange:t=>y({...f,description:t.target.value}),placeholder:"Enter item description",rows:2})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[e.jsx(w,{variant:"outline",onClick:n?R:()=>u(!1),children:"Cancel"}),e.jsx(w,{onClick:n?_:A,children:n?"Update Item":"Add Item"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:q.map(t=>e.jsx(D,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(M,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.find(O=>O.id===t.category)?.name||t.category}),t.description&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.description})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[N(t),e.jsx(J,{className:T(t),children:I(t)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Stock Level"}),e.jsxs("span",{children:[t.currentStock," / ",t.maxStock," ",t.unit]})]}),e.jsx(vs,{value:C(t),className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Min Level:"}),e.jsx("span",{className:"ml-1 font-medium",children:t.minStock})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Supplier:"}),e.jsx("span",{className:"ml-1 font-medium",children:t.supplier})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Updated:"}),e.jsx("span",{className:"ml-1 font-medium",children:new Date(t.lastUpdated).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),e.jsx("span",{className:"ml-1 font-medium",children:t.currentStock<=t.minStock?"Needs Restock":"Good"})]})]}),t.allergens&&t.allergens.length>0&&e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Allergens:"})," ",t.allergens.join(", ")]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(w,{size:"sm",variant:"outline",onClick:()=>z(t.id,t.currentStock+10),children:"+10"}),e.jsx(w,{size:"sm",variant:"outline",onClick:()=>z(t.id,t.currentStock+50),children:"+50"})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(w,{size:"sm",variant:"ghost",onClick:()=>G(t),children:e.jsx(Tt,{className:"h-4 w-4"})}),e.jsx(w,{size:"sm",variant:"ghost",onClick:()=>$(t.id),children:e.jsx(Ye,{className:"h-4 w-4"})})]})]})]})]})},t.id))}),q.length===0&&e.jsx(D,{children:e.jsxs(M,{className:"p-8 text-center",children:[e.jsx(_e,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No inventory items found"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:S?"Try adjusting your search terms":"Add your first inventory item to get started"})]})})]})},fa=()=>{const[a,s]=l.useState([]),[r,o]=l.useState(""),[i,u]=l.useState("all"),[n,d]=l.useState("name");l.useEffect(()=>{s([{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"07912 345678",address:"123 High Street, Epping, CM16 4BA",totalOrders:15,totalSpent:245.5,lastOrder:"2024-01-15",joinDate:"2023-06-10",status:"vip",favoriteItems:["Smash Burger","Chicken Wings"],averageOrderValue:16.37},{id:"2",name:"Mike Chen",email:"mike.chen@email.com",phone:"07923 456789",address:"45 Station Road, Epping, CM16 4BB",totalOrders:8,totalSpent:128.75,lastOrder:"2024-01-14",joinDate:"2023-08-22",status:"active",favoriteItems:["Butter Chicken","Garlic Naan"],averageOrderValue:16.09},{id:"3",name:"Emma Wilson",email:"emma.wilson@email.com",phone:"07934 567890",address:"78 Church Lane, Epping, CM16 4BC",totalOrders:3,totalSpent:45.2,lastOrder:"2024-01-05",joinDate:"2023-12-01",status:"active",favoriteItems:["Crispy Fries"],averageOrderValue:15.07},{id:"4",name:"David Brown",email:"david.brown@email.com",phone:"07945 678901",address:"12 Market Square, Epping, CM16 4BD",totalOrders:22,totalSpent:387.9,lastOrder:"2024-01-16",joinDate:"2023-03-15",status:"vip",favoriteItems:["Bacon Smash Burger","Buffalo Wings","Dal Tadka"],averageOrderValue:17.63},{id:"5",name:"Lisa Thompson",email:"lisa.thompson@email.com",phone:"07956 789012",address:"56 Victoria Road, Epping, CM16 4BE",totalOrders:1,totalSpent:18.5,lastOrder:"2023-11-20",joinDate:"2023-11-15",status:"inactive",favoriteItems:["Smash Burger"],averageOrderValue:18.5}])},[]);const m=p=>{switch(p){case"vip":return"bg-purple-100 text-purple-800";case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},h=p=>{switch(p){case"vip":return e.jsx(ot,{className:"h-4 w-4 text-purple-500"});case"active":return e.jsx(le,{className:"h-4 w-4 text-green-500"});case"inactive":return e.jsx(ye,{className:"h-4 w-4 text-gray-500"});default:return e.jsx(ye,{className:"h-4 w-4 text-gray-500"})}},S=a.filter(p=>{const j=p.name.toLowerCase().includes(r.toLowerCase())||p.email.toLowerCase().includes(r.toLowerCase())||p.phone.includes(r),f=i==="all"||p.status===i;return j&&f}).sort((p,j)=>{switch(n){case"name":return p.name.localeCompare(j.name);case"totalSpent":return j.totalSpent-p.totalSpent;case"lastOrder":return new Date(j.lastOrder).getTime()-new Date(p.lastOrder).getTime();case"totalOrders":return j.totalOrders-p.totalOrders;default:return 0}}),k={total:a.length,active:a.filter(p=>p.status==="active").length,vip:a.filter(p=>p.status==="vip").length,inactive:a.filter(p=>p.status==="inactive").length,totalRevenue:a.reduce((p,j)=>p+j.totalSpent,0),averageOrderValue:a.reduce((p,j)=>p+j.averageOrderValue,0)/a.length};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Customer Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your customer relationships and insights"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.total})]}),e.jsx(ye,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:k.active})]}),e.jsx(le,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"VIP"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:k.vip})]}),e.jsx(ot,{className:"h-8 w-8 text-purple-500"})]})})}),e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["£",k.totalRevenue.toFixed(2)]})]}),e.jsx(Ct,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["£",k.averageOrderValue.toFixed(2)]})]}),e.jsx(jr,{className:"h-8 w-8 text-orange-500"})]})})})]}),e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search customers...",value:r,onChange:p=>o(p.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:i,onChange:p=>u(p.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"vip",children:"VIP"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsxs("select",{value:n,onChange:p=>d(p.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"totalSpent",children:"Sort by Total Spent"}),e.jsx("option",{value:"lastOrder",children:"Sort by Last Order"}),e.jsx("option",{value:"totalOrders",children:"Sort by Order Count"})]})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:S.map(p=>e.jsx(D,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(M,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:p.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Customer since ",new Date(p.joinDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[h(p.status),e.jsx(J,{className:m(p.status),children:p.status.toUpperCase()})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(dt,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:p.email})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:p.phone})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"truncate",children:p.address})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p.totalOrders}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Orders"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["£",p.totalSpent.toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Spent"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Order:"}),e.jsx("span",{className:"font-medium",children:new Date(p.lastOrder).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Avg Order Value:"}),e.jsxs("span",{className:"font-medium",children:["£",p.averageOrderValue.toFixed(2)]})]})]}),p.favoriteItems.length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Favorite Items:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[p.favoriteItems.slice(0,3).map((j,f)=>e.jsx(J,{variant:"outline",className:"text-xs",children:j},f)),p.favoriteItems.length>3&&e.jsxs(J,{variant:"outline",className:"text-xs",children:["+",p.favoriteItems.length-3," more"]})]})]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsxs(w,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(dt,{className:"h-4 w-4 mr-1"}),"Email"]}),e.jsxs(w,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Call"]})]})]})},p.id))}),S.length===0&&e.jsx(D,{children:e.jsx(M,{className:"p-8 text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})})]})},ya=()=>{const[a,s]=l.useState("30d"),r={"7d":{current:1847.5,previous:1653.2,change:11.7},"30d":{current:12450.75,previous:11230.4,change:10.9},"90d":{current:38720.25,previous:35210.8,change:10},"1y":{current:156780.5,previous:142350.25,change:10.2}},o={"7d":{current:89,previous:78,change:14.1},"30d":{current:456,previous:412,change:10.7},"90d":{current:1387,previous:1256,change:10.4},"1y":{current:5678,previous:5123,change:10.8}},i=[{name:"Smash Burger",orders:145,revenue:1377.5,growth:12.5},{name:"Chicken Wings",orders:128,revenue:1088,growth:8.3},{name:"Butter Chicken",orders:98,revenue:1323,growth:15.2},{name:"Crispy Fries",orders:87,revenue:304.5,growth:5.1},{name:"Garlic Naan",orders:76,revenue:266,growth:7.8}],u=[{hour:"11:00",orders:12,revenue:156.5},{hour:"12:00",orders:28,revenue:342.75},{hour:"13:00",orders:35,revenue:428.25},{hour:"14:00",orders:18,revenue:198.5},{hour:"15:00",orders:8,revenue:89.25},{hour:"16:00",orders:15,revenue:167.8},{hour:"17:00",orders:22,revenue:278.9},{hour:"18:00",orders:45,revenue:567.25},{hour:"19:00",orders:52,revenue:678.5},{hour:"20:00",orders:38,revenue:489.75},{hour:"21:00",orders:25,revenue:312.4},{hour:"22:00",orders:12,revenue:145.6}],n=r[a],d=o[a],m=h=>{switch(h){case"7d":return"Last 7 days";case"30d":return"Last 30 days";case"90d":return"Last 90 days";case"1y":return"Last year";default:return"Last 30 days"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics & Reports"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track performance and business insights"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(w,{variant:"outline",size:"sm",children:[e.jsx(It,{className:"h-4 w-4 mr-2"}),"Export Report"]})})]}),e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Time Range:"})]}),e.jsx("div",{className:"flex space-x-1",children:["7d","30d","90d","1y"].map(h=>e.jsx(w,{variant:a===h?"default":"outline",size:"sm",onClick:()=>s(h),children:h.toUpperCase()},h))})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(D,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["£",n.current.toLocaleString()]}),e.jsxs("div",{className:"flex items-center mt-1",children:[n.change>0?e.jsx(le,{className:"h-4 w-4 text-green-500 mr-1"}):e.jsx(We,{className:"h-4 w-4 text-red-500 mr-1"}),e.jsxs("span",{className:`text-sm font-medium ${n.change>0?"text-green-600":"text-red-600"}`,children:[n.change>0?"+":"",n.change,"%"]}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs previous"})]})]}),e.jsx(Ct,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(D,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d.current.toLocaleString()}),e.jsxs("div",{className:"flex items-center mt-1",children:[d.change>0?e.jsx(le,{className:"h-4 w-4 text-green-500 mr-1"}):e.jsx(We,{className:"h-4 w-4 text-red-500 mr-1"}),e.jsxs("span",{className:`text-sm font-medium ${d.change>0?"text-green-600":"text-red-600"}`,children:[d.change>0?"+":"",d.change,"%"]}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs previous"})]})]}),e.jsx(Ee,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(D,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["£",(n.current/d.current).toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"per order"})]}),e.jsx(Re,{className:"h-8 w-8 text-purple-500"})]})})}),e.jsx(D,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Customers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"1,234"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(le,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"+5.2%"}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"this month"})]})]}),e.jsx(ye,{className:"h-8 w-8 text-orange-500"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(D,{children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performing Items"}),e.jsx(J,{variant:"outline",children:m(a)})]}),e.jsx("div",{className:"space-y-3",children:i.map((h,S)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-primary",children:S+1})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:h.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h.orders," orders"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["£",h.revenue.toFixed(2)]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"h-3 w-3 text-green-500 mr-1"}),e.jsxs("span",{className:"text-xs text-green-600",children:["+",h.growth,"%"]})]})]})]},S))})]})}),e.jsx(D,{children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Peak Hours"}),e.jsx(J,{variant:"outline",children:"Today"})]}),e.jsx("div",{className:"space-y-2",children:u.map((h,S)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 w-12",children:h.hour}),e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${h.orders/52*100}%`}})})]}),e.jsxs("div",{className:"text-right ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.orders}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["£",h.revenue.toFixed(2)]})]})]},S))})]})})]}),e.jsx(D,{children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Revenue Trend"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{variant:"outline",children:"Daily"}),e.jsx(J,{variant:"outline",children:"Weekly"}),e.jsx(J,{variant:"outline",children:"Monthly"})]})]}),e.jsx("div",{className:"h-64 bg-gray-50 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Re,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Chart visualization would go here"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Integration with charting library needed"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"18.5 min"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average Prep Time"}),e.jsxs("div",{className:"flex items-center justify-center mt-1",children:[e.jsx(We,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-sm text-green-600",children:"-2.3 min"})]})]})})}),e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"4.8/5"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Customer Rating"}),e.jsxs("div",{className:"flex items-center justify-center mt-1",children:[e.jsx(le,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-sm text-green-600",children:"+0.2"})]})]})})}),e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"92%"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Order Accuracy"}),e.jsxs("div",{className:"flex items-center justify-center mt-1",children:[e.jsx(le,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-sm text-green-600",children:"+1.2%"})]})]})})})]})]})},va=()=>{const[a,s]=l.useState(!1),r=async()=>{s(!0);try{W.reset([]),ie.reset([]),te.success("Mock data reset successfully")}catch(u){te.error("Failed to reset"),console.error(u)}finally{s(!1)}},o=async()=>{s(!0);try{await W.forceImportFromSite(),te.success("Full site menu imported")}catch(u){te.error("Failed to import menu"),console.error(u)}finally{s(!1)}},i=async u=>{s(!0);try{const d=(await u.text()).split(/\r?\n/).filter(k=>k.trim().length>0);if(d.length<3)throw new Error("CSV appears empty or malformed");const m=d[0].split(","),h=[];for(let k=0;k<m.length;k+=4){const p=(m[k]||"").trim();if(!p)continue;const f=p.replace(/\s+/g," ").replace(/^OH\s*Smash$/i,"OhSmash").replace(/^Oh\s*Smash$/i,"OhSmash").replace(/^Wonder\s*Wings$/i,"Wonder Wings").replace(/^Okra\s*Green$/i,"Okra Green");h.push({brandKey:f,offset:k})}const S={};h.forEach(k=>{S[k.brandKey]=[]});for(let k=2;k<d.length;k++){const p=d[k],j=[];let f="",y=!1;for(let C=0;C<p.length;C++){const T=p[C];if(T==='"'){y=!y;continue}T===","&&!y?(j.push(f),f=""):f+=T}j.push(f),h.forEach(C=>{const T=(j[C.offset]||"").trim(),N=(j[C.offset+1]||"").trim(),I=(j[C.offset+2]||"").trim();if(!N)return;const A=Number(I.replace(/[^0-9.]/g,""));Number.isNaN(A)||(S[C.brandKey]||(S[C.brandKey]=[]),S[C.brandKey].push({name:N,price:A,category:T||"General"}))})}Object.keys(S).forEach(k=>{S[k].length===0&&delete S[k]}),W.importFromSiteMenus(S),te.success("Menu imported from CSV")}catch(n){console.error(n),te.error("Failed to import CSV")}finally{s(!1)}};return e.jsx("div",{className:"space-y-4",children:e.jsx(D,{children:e.jsxs(M,{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Data Management"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Reset or import data for the admin system."}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs(w,{onClick:r,disabled:a,variant:"outline",children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"Reset Mock Data"]}),e.jsxs(w,{onClick:o,disabled:a,children:[e.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Import Full Menu from Site"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs(w,{disabled:a,variant:"outline",onClick:async()=>{try{s(!0);const u=await fetch("/menu-template.csv",{cache:"no-store"});if(!u.ok)throw new Error("Template CSV not found");const d=(await u.text()).split(/\r?\n/).filter(I=>I.trim().length>0);if(d.length<2)throw new Error("Template CSV empty");const m=d[0].split(",").map(I=>I.trim().toLowerCase()),h=I=>m.indexOf(I),S=h("brand"),k=h("category"),p=h("name"),j=h("description"),f=h("price"),y=h("veg"),C=h("image");if(S<0||k<0||p<0||f<0)throw new Error("Missing required columns");const T={},N=I=>{const A=(I||"").trim();return/^oh\s*smash$/i.test(A)?"OhSmash":/^wonder\s*wings$/i.test(A)?"Wonder Wings":/^okra\s*green$/i.test(A)?"Okra Green":A};for(let I=1;I<d.length;I++){const A=d[I],_=[];let G="",R=!1;for(let x=0;x<A.length;x++){const P=A[x];if(P==='"'){R=!R;continue}P===","&&!R?(_.push(G),G=""):G+=P}_.push(G);const z=N(_[S]||""),$=(_[k]||"General").trim(),q=(_[p]||"").trim(),t=(_[f]||"").trim();if(!z||!q||!t)continue;const O=Number(t.replace(/[^0-9.]/g,""));if(Number.isNaN(O))continue;const V=(_[j]||"").trim(),v=(_[y]||"").trim().toLowerCase(),c=v==="true"?!0:v==="false"?!1:void 0,g=(_[C]||"").trim();T[z]||(T[z]=[]),T[z].push({name:q,price:O,description:V,category:$,veg:c,image:g})}W.importFromSiteMenus(T),te.success("Imported from template CSV")}catch(u){console.error(u),te.error("Failed to import from template")}finally{s(!1)}},children:[e.jsx(xt,{className:"h-4 w-4 mr-2"}),"Import From Template (public/menu-template.csv)"]}),e.jsxs("a",{className:"inline-flex items-center justify-center rounded-md border px-4 py-2 text-sm hover:bg-muted",href:"/menu-template.csv",download:!0,children:[e.jsx(xt,{className:"h-4 w-4 mr-2"})," Download CSV Template"]})]}),e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx(B,{children:"Import Menu from CSV (Downloads sheet)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"file",accept:".csv",disabled:a,onChange:u=>{const n=u.target.files?.[0];n&&i(n)}}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Expected columns per brand: Category, Name, Price(£)"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsx(rr,{className:"inline h-3 w-3 mr-1"}),"Supports your sheet format with three brand columns."]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsx(Xs,{className:"inline h-3 w-3 mr-1"}),"Uses localStorage for persistence in this mock environment."]})]})})})},ja=()=>{const[a,s]=l.useState(""),[r,o]=l.useState("All"),[i,u]=l.useState([]),[n,d]=l.useState([]),[m,h]=l.useState({name:"",phone:"",email:"",address:""}),[S,k]=l.useState("pickup"),[p,j]=l.useState("cash"),[f,y]=l.useState(""),[C,T]=l.useState(!1),{addItem:N,clearCart:I}=Bs();l.useEffect(()=>{const v=()=>{const g=W.getAll().filter(x=>x.inStock);u(g)};v();const c=W.subscribe(v);return()=>c()},[]);const A=["All",...new Set(i.map(v=>v.category))],_=i.filter(v=>{const c=v.name.toLowerCase().includes(a.toLowerCase())||v.description.toLowerCase().includes(a.toLowerCase()),g=r==="All"||v.category===r;return c&&g}),G=v=>{const c=n.find(g=>g.id===v.id);d(c?g=>g.map(x=>x.id===v.id?{...x,quantity:x.quantity+1}:x):g=>[...g,{id:v.id,name:v.name,price:v.price,quantity:1,notes:""}]),te.success(`${v.name} added to order`)},R=(v,c)=>{c<=0?d(g=>g.filter(x=>x.id!==v)):d(g=>g.map(x=>x.id===v?{...x,quantity:c}:x))},z=(v,c)=>{d(g=>g.map(x=>x.id===v?{...x,notes:c}:x))},$=()=>n.reduce((v,c)=>v+c.price*c.quantity,0),q=()=>S==="delivery"?2.5:0,t=()=>1.5,O=()=>$()+q()+t(),V=async()=>{if(n.length===0){te.error("Please add items to the order");return}if(!m.name||!m.phone){te.error("Please fill in customer name and phone number");return}T(!0);try{const v={items:n.map(g=>({id:g.id,name:g.name,price:g.price,quantity:g.quantity,brand:i.find(x=>x.id===g.id)?.restaurant||"Unknown"})),total:O(),orderType:S,customerInfo:{name:m.name,phone:m.phone,email:m.email||"",address:S==="delivery"?m.address:"",paymentMethod:p},specialInstructions:f||void 0,updatedAt:new Date().toISOString()},c=Ce.addOrder(v);n.forEach(g=>{const x=i.find(P=>P.id===g.id);if(x)for(let P=0;P<g.quantity;P++)N({id:`${x.restaurant.toLowerCase().replace(/\s+/g,"-")}-${g.name.toLowerCase().replace(/\s+/g,"-")}`,name:g.name,price:g.price,description:x.description,brand:x.restaurant,image:x.image,quantity:1})}),te.success(`Order #${c.id} created successfully!`),d([]),h({name:"",phone:"",email:"",address:""}),y("")}catch(v){te.error("Failed to create order"),console.error("Order creation error:",v)}finally{T(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"In-House Order Taking"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Take orders directly from customers"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(J,{variant:"outline",children:[n.length," items"]}),e.jsxs(J,{variant:"outline",children:["£",$().toFixed(2)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx(D,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(X,{placeholder:"Search menu items...",value:a,onChange:v=>s(v.target.value),className:"pl-10"})]})}),e.jsxs(je,{value:r,onValueChange:o,children:[e.jsx(oe,{className:"w-[180px]",children:e.jsx(Se,{placeholder:"Category"})}),e.jsx(de,{children:A.map(v=>e.jsx(H,{value:v,children:v},v))})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:_.map(v=>e.jsx(D,{className:"hover:shadow-md transition-shadow",children:e.jsxs(M,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:v.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:v.category}),v.description&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:v.description})]}),e.jsxs("div",{className:"text-right ml-2",children:[e.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:["£",v.price.toFixed(2)]}),v.veg&&e.jsx(J,{variant:"outline",className:"text-green-600 border-green-600 text-xs",children:"VEG"})]})]}),e.jsxs(w,{onClick:()=>G(v),size:"sm",className:"w-full",children:[e.jsx(ve,{className:"h-4 w-4 mr-1"}),"Add to Order"]})]})},v.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(D,{children:e.jsxs(M,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"customerName",children:"Name *"}),e.jsx(X,{id:"customerName",value:m.name,onChange:v=>h(c=>({...c,name:v.target.value})),placeholder:"Customer name"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"customerPhone",children:"Phone *"}),e.jsx(X,{id:"customerPhone",value:m.phone,onChange:v=>h(c=>({...c,phone:v.target.value})),placeholder:"Phone number"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"customerEmail",children:"Email"}),e.jsx(X,{id:"customerEmail",type:"email",value:m.email,onChange:v=>h(c=>({...c,email:v.target.value})),placeholder:"Email address"})]}),S==="delivery"&&e.jsxs("div",{children:[e.jsx(B,{htmlFor:"customerAddress",children:"Address *"}),e.jsx(Ie,{id:"customerAddress",value:m.address,onChange:v=>h(c=>({...c,address:v.target.value})),placeholder:"Delivery address",rows:2})]})]})]})}),e.jsx(D,{children:e.jsxs(M,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Order Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Order Type"}),e.jsxs("div",{className:"flex space-x-2 mt-1",children:[e.jsx(w,{variant:S==="pickup"?"default":"outline",size:"sm",onClick:()=>k("pickup"),className:"flex-1",children:"Pickup"}),e.jsx(w,{variant:S==="delivery"?"default":"outline",size:"sm",onClick:()=>k("delivery"),className:"flex-1",children:"Delivery"})]})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Payment Method"}),e.jsxs(je,{value:p,onValueChange:v=>j(v),children:[e.jsx(oe,{children:e.jsx(Se,{})}),e.jsxs(de,{children:[e.jsx(H,{value:"cash",children:"Cash"}),e.jsx(H,{value:"card",children:"Card"}),e.jsx(H,{value:"online",children:"Online"})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"specialInstructions",children:"Special Instructions"}),e.jsx(Ie,{id:"specialInstructions",value:f,onChange:v=>y(v.target.value),placeholder:"Any special requests...",rows:2})]})]})]})}),e.jsx(D,{children:e.jsxs(M,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Order Items"}),n.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No items in order"}):e.jsx("div",{className:"space-y-3",children:n.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:v.name}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["£",v.price.toFixed(2)," each"]}),e.jsx(X,{placeholder:"Notes...",value:v.notes||"",onChange:c=>z(v.id,c.target.value),className:"mt-1 h-6 text-xs"})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[e.jsx(w,{size:"sm",variant:"outline",onClick:()=>R(v.id,v.quantity-1),className:"h-6 w-6 p-0",children:e.jsx(Je,{className:"h-3 w-3"})}),e.jsx("span",{className:"text-sm font-medium w-6 text-center",children:v.quantity}),e.jsx(w,{size:"sm",variant:"outline",onClick:()=>R(v.id,v.quantity+1),className:"h-6 w-6 p-0",children:e.jsx(ve,{className:"h-3 w-3"})}),e.jsx(w,{size:"sm",variant:"ghost",onClick:()=>R(v.id,0),className:"h-6 w-6 p-0 text-red-500",children:e.jsx(Pe,{className:"h-3 w-3"})})]})]},v.id))})]})}),e.jsx(D,{children:e.jsxs(M,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Order Total"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:["Subtotal (",n.reduce((v,c)=>v+c.quantity,0)," items)"]}),e.jsxs("span",{children:["£",$().toFixed(2)]})]}),q()>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsxs("span",{children:["£",q().toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Service Fee"}),e.jsxs("span",{children:["£",t().toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-2",children:e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["£",O().toFixed(2)]})]})})]}),e.jsx(w,{onClick:V,disabled:C||n.length===0,className:"w-full mt-4",size:"lg",children:C?e.jsxs(e.Fragment,{children:[e.jsx(at,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Create Order"]})})]})})]})]})]})},Sa=()=>{const[a,s]=l.useState("dashboard"),[r,o]=l.useState(null);l.useEffect(()=>{o(Ce.getStats());const u=Ce.subscribe(n=>{o(n)});return()=>{u()}},[]);const i=()=>{switch(a){case"dashboard":return e.jsx(gt,{adminStats:r});case"orders":return e.jsx(la,{});case"menu":return e.jsx(ca,{});case"inventory":return e.jsx(ga,{});case"customers":return e.jsx(fa,{});case"analytics":return e.jsx(ya,{});case"order-taking":return e.jsx(ja,{});case"settings":return e.jsx(va,{});default:return e.jsx(gt,{adminStats:r})}};return e.jsx(Cr,{currentPage:a,onPageChange:s,children:i()})},Pa=()=>e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx(Sa,{})});export{Pa as default};
